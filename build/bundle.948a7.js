!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s="uXl7")}({"1t2z":function(t){t.exports={WayPoints:"WayPoints__5Srsb"}},"4TN0":function(t){t.exports={Airport:"Airport__3P59_"}},"9GBv":function(t){t.exports={BackgroundSvg:"BackgroundSvg__2wFPq"}},EBst:function(t){!function(){"use strict";function e(){}function n(t,n){var r,o,i,a,s=N;for(a=arguments.length;a-- >2;)T.push(arguments[a]);for(n&&null!=n.children&&(T.length||T.push(n.children),delete n.children);T.length;)if((o=T.pop())&&void 0!==o.pop)for(a=o.length;a--;)T.push(o[a]);else"boolean"==typeof o&&(o=null),(i="function"!=typeof t)&&(null==o?o="":"number"==typeof o?o+="":"string"!=typeof o&&(i=!1)),i&&r?s[s.length-1]+=o:s===N?s=[o]:s.push(o),r=i;var c=new e;return c.nodeName=t,c.children=s,c.attributes=null==n?void 0:n,c.key=null==n?void 0:n.key,void 0!==L.vnode&&L.vnode(c),c}function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e){return n(t.nodeName,r(r({},t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function i(t){!t.__d&&(t.__d=!0)&&1==R.push(t)&&(L.debounceRendering||A)(a)}function a(){var t,e=R;for(R=[];t=e.pop();)t.__d&&j(t)}function s(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&c(t,e.nodeName):n||t._componentConstructor===e.nodeName}function c(t,e){return t.__n===e||t.nodeName.toLowerCase()===e.toLowerCase()}function l(t){var e=r({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===e[o]&&(e[o]=n[o]);return e}function h(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.__n=t,n}function u(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===I.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,f,a):t.removeEventListener(e,f,a),(t.__l||(t.__l={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t)d(t,e,null==r?"":r),null!=r&&!1!==r||t.removeAttribute(e);else{var s=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function d(t,e,n){try{t[e]=n}catch(t){}}function f(t){return this.__l[t.type](L.event&&L.event(t)||t)}function g(){for(var t;t=D.pop();)L.afterMount&&L.afterMount(t),t.componentDidMount&&t.componentDidMount()}function y(t,e,n,r,o,i){W++||(U=null!=o&&void 0!==o.ownerSVGElement,H=null!=t&&!("__preactattr_"in t));var a=m(t,e,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--W||(H=!1,i||g()),a}function m(t,e,n,r,o){var i=t,a=U;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),b(t,!0))),i.__preactattr_=!0,i;var s=e.nodeName;if("function"==typeof s)return P(t,e,n,r);if(U="svg"===s||"foreignObject"!==s&&U,s+="",(!t||!c(t,s))&&(i=h(s,U),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),b(t,!0)}var l=i.firstChild,u=i.__preactattr_,p=e.children;if(null==u){u=i.__preactattr_={};for(var d=i.attributes,f=d.length;f--;)u[d[f].name]=d[f].value}return!H&&p&&1===p.length&&"string"==typeof p[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=p[0]&&(l.nodeValue=p[0]):(p&&p.length||null!=l)&&v(i,p,n,r,H||null!=u.dangerouslySetInnerHTML),w(i,e.attributes,u),U=a,i}function v(t,e,n,r,o){var i,a,c,l,h,p=t.childNodes,d=[],f={},g=0,y=0,v=p.length,O=0,w=e?e.length:0;if(0!==v)for(var _=0;_<v;_++){var C=p[_],S=C.__preactattr_,x=w&&S?C._component?C._component.__k:S.key:null;null!=x?(g++,f[x]=C):(S||(void 0!==C.splitText?!o||C.nodeValue.trim():o))&&(d[O++]=C)}if(0!==w)for(var _=0;_<w;_++){l=e[_],h=null;var x=l.key;if(null!=x)g&&void 0!==f[x]&&(h=f[x],f[x]=void 0,g--);else if(!h&&y<O)for(i=y;i<O;i++)if(void 0!==d[i]&&s(a=d[i],l,o)){h=a,d[i]=void 0,i===O-1&&O--,i===y&&y++;break}h=m(h,l,n,r),c=p[_],h&&h!==t&&h!==c&&(null==c?t.appendChild(h):h===c.nextSibling?u(c):t.insertBefore(h,c))}if(g)for(var _ in f)void 0!==f[_]&&b(f[_],!1);for(;y<=O;)void 0!==(h=d[O--])&&b(h,!1)}function b(t,e){var n=t._component;n?E(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||u(t),O(t))}function O(t){for(t=t.lastChild;t;){var e=t.previousSibling;b(t,!0),t=e}}function w(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||p(t,r,n[r],n[r]=void 0,U);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||p(t,r,n[r],n[r]=e[r],U)}function _(t){var e=t.constructor.name;(V[e]||(V[e]=[])).push(t)}function C(t,e,n){var r,o=V[t.name];if(t.prototype&&t.prototype.render?(r=new t(e,n),M.call(r,e,n)):(r=new M(e,n),r.constructor=t,r.render=S),o)for(var i=o.length;i--;)if(o[i].constructor===t){r.__b=o[i].__b,o.splice(i,1);break}return r}function S(t,e,n){return this.constructor(t,n)}function x(t,e,n,r,o){t.__x||(t.__x=!0,(t.__r=e.ref)&&delete e.ref,(t.__k=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r),r&&r!==t.context&&(t.__c||(t.__c=t.context),t.context=r),t.__p||(t.__p=t.props),t.props=e,t.__x=!1,0!==n&&(1!==n&&!1===L.syncComponentUpdates&&t.base?i(t):j(t,1,o)),t.__r&&t.__r(t))}function j(t,e,n,o){if(!t.__x){var i,a,s,c=t.props,h=t.state,u=t.context,p=t.__p||c,d=t.__s||h,f=t.__c||u,m=t.base,v=t.__b,O=m||v,w=t._component,_=!1;if(m&&(t.props=p,t.state=d,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,h,u)?_=!0:t.componentWillUpdate&&t.componentWillUpdate(c,h,u),t.props=c,t.state=h,t.context=u),t.__p=t.__s=t.__c=t.__b=null,t.__d=!1,!_){i=t.render(c,h,u),t.getChildContext&&(u=r(r({},u),t.getChildContext()));var S,P,M=i&&i.nodeName;if("function"==typeof M){var k=l(i);a=w,a&&a.constructor===M&&k.key==a.__k?x(a,k,1,u,!1):(S=a,t._component=a=C(M,k,u),a.__b=a.__b||v,a.__u=t,x(a,k,0,u,!1),j(a,1,n,!0)),P=a.base}else s=O,S=w,S&&(s=t._component=null),(O||1===e)&&(s&&(s._component=null),P=y(s,i,u,n||!m,O&&O.parentNode,!0));if(O&&P!==O&&a!==w){var T=O.parentNode;T&&P!==T&&(T.replaceChild(P,O),S||(O._component=null,b(O,!1)))}if(S&&E(S),t.base=P,P&&!o){for(var N=t,A=t;A=A.__u;)(N=A).base=P;P._component=N,P._componentConstructor=N.constructor}}if(!m||n?D.unshift(t):_||(t.componentDidUpdate&&t.componentDidUpdate(p,d,f),L.afterUpdate&&L.afterUpdate(t)),null!=t.__h)for(;t.__h.length;)t.__h.pop().call(t);W||o||g()}}function P(t,e,n,r){for(var o=t&&t._component,i=o,a=t,s=o&&t._componentConstructor===e.nodeName,c=s,h=l(e);o&&!c&&(o=o.__u);)c=o.constructor===e.nodeName;return o&&c&&(!r||o._component)?(x(o,h,3,n,r),t=o.base):(i&&!s&&(E(i),t=a=null),o=C(e.nodeName,h,n),t&&!o.__b&&(o.__b=t,a=null),x(o,h,1,n,r),t=o.base,a&&t!==a&&(a._component=null,b(a,!1))),t}function E(t){L.beforeUnmount&&L.beforeUnmount(t);var e=t.base;t.__x=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?E(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.__b=e,u(e),_(t),O(e)),t.__r&&t.__r(null)}function M(t,e){this.__d=!0,this.context=e,this.props=t,this.state=this.state||{}}function k(t,e,n){return y(n,t,{},!1,e,!1)}var L={},T=[],N=[],A="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,I=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,R=[],D=[],W=0,U=!1,H=!1,V={};r(M.prototype,{setState:function(t,e){var n=this.state;this.__s||(this.__s=r({},n)),r(n,"function"==typeof t?t(n,this.props):t),e&&(this.__h=this.__h||[]).push(e),i(this)},forceUpdate:function(t){t&&(this.__h=this.__h||[]).push(t),j(this,2)},render:function(){}});var B={h:n,createElement:n,cloneElement:o,Component:M,render:k,rerender:a,options:L};t.exports=B}()},EmRd:function(){},FEkH:function(){},FKtm:function(t,e){"use strict";function n(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,r){return n(t,e[r])});var o=void 0===t?"undefined":r(t);if(o!==(void 0===e?"undefined":r(e)))return!1;if("object"===o){var i=t.valueOf(),a=e.valueOf();if(i!==t||a!==e)return n(i,a);var s=Object.keys(t);return s.length===Object.keys(e).length&&s.every(function(r){return n(t[r],e[r])})}return!1}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=n},FWi5:function(){},GvBW:function(t){"use strict";var e=function(){};t.exports=e},Izpu:function(t,e){"use strict";e.__esModule=!0;var n=(e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)});e.stripBasename=function(t,e){return n(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");-1!==o&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},JBOx:function(t){t.exports={SavedGamesOpen:"SavedGamesOpen__2FH8V"}},JkW7:function(t,e,n){"use strict";function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t,e,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=t.match(o),a={};if(i&&i[1])for(var c=i[1].split("&"),l=0;l<c.length;l++){var h=c[l].split("=");a[decodeURIComponent(h[0])]=decodeURIComponent(h.slice(1).join("="))}t=s(t.replace(o,"")),e=s(e||"");for(var u=Math.max(t.length,e.length),p=0;p<u;p++)if(e[p]&&":"===e[p].charAt(0)){var d=e[p].replace(/(^\:|[+*?]+$)/g,""),f=(e[p].match(/[+*?]+$/)||Bt)[0]||"",g=~f.indexOf("+"),y=~f.indexOf("*"),m=t[p]||"";if(!m&&!y&&(f.indexOf("?")<0||g)){r=!1;break}if(a[d]=decodeURIComponent(m),g||y){a[d]=t.slice(p).map(decodeURIComponent).join("/");break}}else if(e[p]!==t[p]){r=!1;break}return(!0===n.default||!1!==r)&&a}function i(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:t.index-e.index}function a(t,e){return t.index=e,t.rank=h(t),t.attributes}function s(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function c(t){return":"==t.charAt(0)?1+"*+?".indexOf(t.charAt(t.length-1))||4:5}function l(t){return s(t).map(c).join("")}function h(t){return t.attributes.default?0:l(t.attributes.path)}function u(t){return null!=t.__preactattr_||"undefined"!=typeof Symbol&&null!=t[Symbol.for("preactattr")]}function p(t,e){void 0===e&&(e="push"),Gt&&Gt[e]?Gt[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}function d(){var t;return t=Gt&&Gt.location?Gt.location:Gt&&Gt.getCurrentLocation?Gt.getCurrentLocation():"undefined"!=typeof location?location:zt,""+(t.pathname||"")+(t.search||"")}function f(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),g(t)&&p(t,e?"replace":"push"),y(t)}function g(t){for(var e=qt.length;e--;)if(qt[e].canRoute(t))return!0;return!1}function y(t){for(var e=!1,n=0;n<qt.length;n++)!0===qt[n].routeTo(t)&&(e=!0);for(var r=Kt.length;r--;)Kt[r](t);return e}function m(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return f(e)}}function v(t){if(0==t.button)return m(t.currentTarget||t.target||this),b(t)}function b(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function O(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button)){var e=t.target;do{if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")&&u(e)){if(e.hasAttribute("native"))return;if(m(e))return b(t)}}while(e=e.parentNode)}}function w(){Ft||("function"==typeof addEventListener&&(Gt||addEventListener("popstate",function(){y(d())}),addEventListener("click",O)),Ft=!0)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function D(){return null}function W(t){var e=t.nodeName,n=t.attributes;t.attributes={},e.defaultProps&&et(t.attributes,e.defaultProps),n&&et(t.attributes,n)}function U(t,e){var n,r,o;if(e){for(o in e)if(n=sn.test(o))break;if(n){r=t.attributes={};for(o in e)e.hasOwnProperty(o)&&(r[sn.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o])}}}function H(t,e,n){var r=e&&e._preactCompatRendered&&e._preactCompatRendered.base;r&&r.parentNode!==e&&(r=null),!r&&e&&(r=e.firstElementChild);for(var o=e.childNodes.length;o--;)e.childNodes[o]!==r&&e.removeChild(e.childNodes[o]);var i=Object(Vt.render)(t,e,r);return e&&(e._preactCompatRendered=i&&(i._component||{base:i})),"function"==typeof n&&n(),i&&i._component||i}function V(t,e,n,r){var o=Object(Vt.h)(dn,{context:t.context},e),i=H(o,n),a=i._component||i.base;return r&&r.call(a,i),a}function B(t){var e=t._preactCompatRendered&&t._preactCompatRendered.base;return!(!e||e.parentNode!==t)&&(Object(Vt.render)(Object(Vt.h)(D),t,e),!0)}function G(t){return Z.bind(null,t)}function q(t,e){for(var n=e||0;n<t.length;n++){var r=t[n];Array.isArray(r)?q(r):r&&"object"==typeof r&&!Y(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(t[n]=Z(r.type||r.nodeName,r.props||r.attributes,r.children))}}function K(t){return"function"==typeof t&&!(t.prototype&&t.prototype.render)}function z(t){return it({displayName:t.displayName||t.name,render:function(){return t(this.props,this.context)}})}function F(t){var e=t[on];return e?!0===e?t:e:(e=z(t),Object.defineProperty(e,on,{configurable:!0,value:!0}),e.displayName=t.displayName,e.propTypes=t.propTypes,e.defaultProps=t.defaultProps,Object.defineProperty(t,on,{configurable:!0,value:e}),e)}function Z(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return q(t,2),$(Vt.h.apply(void 0,t))}function $(t){t.preactCompatNormalized=!0,tt(t),K(t.nodeName)&&(t.nodeName=F(t.nodeName));var e=t.attributes.ref,n=e&&typeof e;return!fn||"string"!==n&&"number"!==n||(t.attributes.ref=Q(e,fn)),X(t),t}function J(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];if(!Y(t))return t;var o=t.attributes||t.props,i=Object(Vt.h)(t.nodeName||t.type,et({},o),t.children||o&&o.children),a=[i,e];return n&&n.length?a.push(n):e&&e.children&&a.push(e.children),$(Vt.cloneElement.apply(void 0,a))}function Y(t){return t&&(t instanceof hn||t.$$typeof===rn)}function Q(t,e){return e._refProxies[t]||(e._refProxies[t]=function(n){e&&e.refs&&(e.refs[t]=n,null===n&&(delete e._refProxies[t],e=null))})}function X(t){var e=t.nodeName,n=t.attributes;if(n&&"string"==typeof e){var r={};for(var o in n)r[o.toLowerCase()]=o;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===e||"input"===e.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var i=r.oninput||"oninput";n[i]||(n[i]=ht([n[i],n[r.onchange]]),delete n[r.onchange])}}}function tt(t){var e=t.attributes||(t.attributes={});bn.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",bn)}function et(t){for(var e=arguments,n=1,r=void 0;n<arguments.length;n++)if(r=e[n])for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t}function nt(t,e){for(var n in t)if(!(n in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function rt(t){return t&&t.base||t}function ot(){}function it(t){function e(t,e){ct(this),gt.call(this,t,e,cn),ut.call(this,t,e)}return t=et({constructor:e},t),t.mixins&&st(t,at(t.mixins)),t.statics&&et(e,t.statics),t.propTypes&&(e.propTypes=t.propTypes),t.defaultProps&&(e.defaultProps=t.defaultProps),t.getDefaultProps&&(e.defaultProps=t.getDefaultProps.call(e)),ot.prototype=gt.prototype,e.prototype=et(new ot,t),e.displayName=t.displayName||"Component",e}function at(t){for(var e={},n=0;n<t.length;n++){var r=t[n];for(var o in r)r.hasOwnProperty(o)&&"function"==typeof r[o]&&(e[o]||(e[o]=[])).push(r[o])}return e}function st(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=ht(e[n].concat(t[n]||gn),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function ct(t){for(var e in t){var n=t[e];"function"!=typeof n||n.__bound||an.hasOwnProperty(e)||((t[e]=n.bind(t)).__bound=!0)}}function lt(t,e,n){if("string"==typeof e&&(e=t.constructor.prototype[e]),"function"==typeof e)return e.apply(t,n)}function ht(t,e){return function(){for(var n,r=arguments,o=this,i=0;i<t.length;i++){var a=lt(o,t[i],r);if(e&&null!=a){n||(n={});for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])}else void 0!==a&&(n=a)}return n}}function ut(t,e){pt.call(this,t,e),this.componentWillReceiveProps=ht([pt,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=ht([pt,dt,this.render||"render",ft])}function pt(t){if(t){var e=t.children;if(e&&Array.isArray(e)&&1===e.length&&("string"==typeof e[0]||"function"==typeof e[0]||e[0]instanceof hn)&&(t.children=e[0])&&"object"==typeof t.children&&(t.children.length=1,t.children[0]=t.children),ln){var n="function"==typeof this?this:this.constructor,r=this.propTypes||n.propTypes,o=this.displayName||n.name;r&&en.a.checkPropTypes(r,t,"prop",o)}}}function dt(){fn=this}function ft(){fn===this&&(fn=null)}function gt(t,e,n){Vt.Component.call(this,t,e),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==cn&&ut.call(this,t,e)}function yt(t,e){gt.call(this,t,e)}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function xt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Lt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function At(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Dt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var Vt=n("EBst"),Bt=(n("Kfb6"),n("FWi5"),{}),Gt=null,qt=[],Kt=[],zt={},Ft=!1,Zt=function(t){function e(e){t.call(this,e),e.history&&(Gt=e.history),this.state={url:e.url||d()},w()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.shouldComponentUpdate=function(t){return!0!==t.static||(t.url!==this.props.url||t.onChange!==this.props.onChange)},e.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},e.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},e.prototype.componentWillMount=function(){qt.push(this),this.updating=!0},e.prototype.componentDidMount=function(){var t=this;Gt&&(this.unlisten=Gt.listen(function(e){t.routeTo(""+(e.pathname||"")+(e.search||""))})),this.updating=!1},e.prototype.componentWillUnmount=function(){"function"==typeof this.unlisten&&this.unlisten(),qt.splice(qt.indexOf(this),1)},e.prototype.componentWillUpdate=function(){this.updating=!0},e.prototype.componentDidUpdate=function(){this.updating=!1},e.prototype.getMatchingChildren=function(t,e,n){return t.filter(a).sort(i).map(function(t){var i=o(e,t.attributes.path,t.attributes);if(i){if(!1!==n){var a={url:e,matches:i};return r(a,i),delete a.ref,delete a.key,Object(Vt.cloneElement)(t,a)}return t}}).filter(Boolean)},e.prototype.render=function(t,e){var n=t.children,r=t.onChange,o=e.url,i=this.getMatchingChildren(n,o,!0),a=i[0]||null;this._didRoute=!!a;var s=this.previousUrl;return o!==s&&(this.previousUrl=o,"function"==typeof r&&r({router:this,url:o,previous:s,active:i,current:a})),a},e}(Vt.Component),$t=function(t){return Object(Vt.h)("a",r({onClick:v},t))},Jt=function(t){return Object(Vt.h)(t.component,t)};Zt.subscribers=Kt,Zt.getCurrentUrl=d,Zt.route=f,Zt.Router=Zt,Zt.Route=Jt,Zt.Link=$t;for(var Yt=Zt,Qt=n("kjbi"),Xt=n.n(Qt),te=(n("EmRd"),n("wdpN"),n("vzCy")),ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ne={INBOUND:0,OUTBOUND:1,ENROUTE:2,0:"inbound",1:"outbound",2:"enroute"},re=[{id:0,ceiling:37,name:"Boeing 737",shortName:"B737",topSpeed:320,landingSpeed:140,minSpeed:160,turningRate:[2,3,5],operators:[0,1,2]},{id:1,name:"Boeing 747",shortName:"B747",topSpeed:330,landingSpeed:145,minSpeed:180,turningRate:[2,3,4],ceiling:41,operators:[0,1,2]}],oe=[{id:0,name:"KLM",shortName:"KLM",callsign:"KLM",color:"#00a1e4"},{id:1,name:"Delta Airlines",callsign:"DLT",shortName:"Delta",color:"#003a70"},{id:2,name:"JetBlue",callsign:"JBU",shortName:"JetBlue",color:"#003876"},{id:3,name:"United Airlines",callsign:"UAL",shortName:"United",color:"#005DAA"}],ie=ee.apply(void 0,[{}].concat(re.map(function(t){var e;return e={},e[t.id]=t,e}))),ae=ee.apply(void 0,[{}].concat(oe.map(function(t){var e;return e={},e[t.id]=t,e}))),se=0,ce=[],le=0;le<1900;le++)ce[le]=le;ce.sort(function(){return Math.random()-.5});var he=function(){function t(t,e,n,r,o,i,a,s,c){this.tgtAltitude=e,this.tgtDirection=n,this.tgtSpeed=t,this.operatorId=i,this.speed=t,this.altitude=e,this.heading=n,this.x=r,this.y=o,this.flight=a,this.path=[],this.typeId=s,this.routeType=c}return t.create=function(e,n,r,o){var i=re[Math.floor(Math.random()*re.length)],a=i.operators[Math.floor(Math.random()*i.operators.length)],s=i.topSpeed,c=Math.floor(.5*i.ceiling-Math.random()*i.ceiling*.2),l=1e3*(c%2==0==r<180?c-1:c),h=ce[se++];return se%=1950,new t(s,l,r,e,n,a,h,i.id,o)},t.createOutbound=function(e,n,r,o,i){var a=t.create(e,n,r,ne.OUTBOUND);return a.altitude=0,a.speed=0,a.outboundRwy=o,a.outboundWaypoint=i,a},t}(),ue={headingInitVariation:10,globalSpeed:1,baseAirplaneSpeed:.001,updateInterval:300,headingIndicatorLineLen:20,pathCounterUpdateEvery:20,maxPathLen:10,rwyLenScale:.0015,ilsSlopeSteepness:37.5,threeMileRuleDistance:15},pe={WAYPOINT:0,AIRPORT:1,RWY:2},de=function(t){return Object.keys(be[t].waypoints).map(function(e){return be[t].waypoints[e]}).forEach(function(t){return t.type=pe.WAYPOINT}),be[t].airport.type=pe.AIRPORT,be[t].airport.runways.forEach(function(t){return t.type=pe.RWY}),be[t]},fe=function(t,e,n,r){return(180*Math.atan2(n-t,r-e)/Math.PI+360)%360},ge=function(t,e){var n=(e-t)%360;return 2*n%360-n},ye=function(t,e){for(var n=t.rwyusage,r=0;r<n.length;r++)if(e<n[r].dir){var o=n[(r+n.length-1)%n.length];return o.rwys}return n[n.length-1].rwys},me=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments[5],a=e.length*ue.rwyLenScale;return{x1:n/2+t.x+e.x+Math.sin(e.hdg1*Math.PI/180)*(i?-1:-a)*o,y1:r/2+t.y+e.y+Math.cos(e.hdg1*Math.PI/180)*(i?-1:-a)*o,x2:n/2+t.x+e.x+Math.sin(e.hdg2*Math.PI/180)*(i?-1:-a)*o,y2:r/2+t.y+e.y+Math.cos(e.hdg2*Math.PI/180)*(i?-1:-a)*o}},ve=function(t,e,n,r){for(var o=[],i=0;i<t.runways.length;i++){var a=t.runways[i],s=a.length*ue.rwyLenScale,c=Math.sin(a.hdg1*Math.PI/180)*-s,l=Math.cos(a.hdg1*Math.PI/180)*-s,h=Math.sin(a.hdg2*Math.PI/180)*-s,u=Math.cos(a.hdg2*Math.PI/180)*-s,p=n/2+t.x+a.x+c,d=r/2+t.y+a.y+l,f=n/2+t.x+a.x+h,g=r/2+t.y+a.y+u,y=(180*Math.atan2(p-e.x,d-e.y)/Math.PI+360)%360,m=(180*Math.atan2(f-e.x,g-e.y)/Math.PI+360)%360;Math.abs(ge(a.hdg1,y))<20?o.push({rwy:a,rev:!1}):Math.abs(ge(a.hdg2,m))<20&&o.push({rwy:a,rev:!0})}return o},be={default:{name:"default",outboundWaypoints:["LAIKA","PLM","DAVOT","EZOS","EDOS"],inboundWaypoints:["EVKOS","ELROS","KTDOS","QEDOS"],waypoints:{EVKOS:{x:0,y:360},QEDOS:{x:1280,y:400},KTDOS:{x:250,y:0},EKOS:{x:20,y:20},EDOS:{x:0,y:720},ELROS:{x:1280,y:720},EBOS:{x:100,y:600},ESOS:{x:1200,y:90},ELOS:{x:220,y:200},EZOS:{x:1280,y:0},EDROS:{x:290,y:820},KOS:{x:80,y:90},PLM:{x:1280,y:70},DAVOT:{x:0,y:90},LAIKA:{x:900,y:0},RUNAW:{x:30,y:20},EH11:{x:623.268587103299,y:111.60881397780415},EH13:{x:666.731412896701,y:608.3911860221958},EH26:{x:635.2208641964845,y:248.22396629001187},EH9:{x:659.1254183828556,y:521.4542709144273}},routes:{"18->LAIKA":"18->EH26->LAIKA/${CRZ}","36->LAIKA":"36->EH9->LAIKA/${CRZ}","18->PLM":"36->EH9->PLM/${CRZ}","36->PLM":"36->EH9->PLM/${CRZ}","18->EZOS":"36->EH9->EZOS/${CRZ}","36->EZOS":"36->EH9->EZOS/${CRZ}","18->DAVOT":"36->EH9->DAVOT/${CRZ}","36->DAVOT":"36->EH9->DAVOT/${CRZ}","18->EDOS":"36->EH9->EDOS/${CRZ}","36->EDOS":"36->EH9->EDOS/${CRZ}","LAIKA->18":"LAIKA->EH9/3000->18","LAIKA->36":"LAIKA->EH26/3000->36","PLM->18":"PLM->EH9/3000->18","PLM->36":"PLM->EH26/3000->36","EZOS->18":"EZOS->EH9/3000->18","EZOS->36":"EZOS->EH26/3000->36","DAVOT->18":"DAVOT->EH9/3000->18","DAVOT->36":"DAVOT->EH26/3000->36","EVKOS->PLM":"EVKOS->EHZM->PLM","QEDOS->EDOS":"QEDOS->EHZM->EDOS"},airport:{rwyusage:[{dir:95,rwys:["18"]},{dir:275,rwys:["36"]}],callsign:"EHZM",x:0,y:0,runways:[{x:5,y:0,length:12467,type:"asphalt",size:2,hdg1:5,hdg2:185,name1:"36",name2:"18"}]}},heatrow:{name:"heatrow",outboundWaypoints:["FOS","BIG","LAM"],inboundWaypoints:["BLC","BENSU","EPM","LCY"],waypoints:{BLC:{x:40,y:0},WOD:{x:0,y:400},BENSU:{x:0,y:600},BUR:{x:100,y:500},FRK:{x:550,y:20},FOS:{x:580,y:0},OCK:{x:640,y:0},EPM:{x:730,y:0},BIG:{x:1280,y:0},LCY:{x:1280,y:360},LAM:{x:1280,y:720},GOXUL:{x:900,y:90},FINCH:{x:880,y:800},CHT:{x:600,y:1050},D175F:{x:680,y:220},EGWU:{x:690,y:960},RICHY:{x:939.9543085469174,y:344.7642780688151},BARNS:{x:939.9543085469174,y:364.7642780688151},WINSR:{x:340.0456914530826,y:355.235721931185},MARLO:{x:340.0456914530826,y:375.235721931185},"40LO2":{x:490.0228457265413,y:352.6178609655925},"40LOC":{x:490.0228457265413,y:372.6178609655925},"40LO3":{x:789.9771542734587,y:347.38213903440754}},routes:{},airport:{rwyusage:[{dir:1,rwys:["09L","09R"]},{dir:181,rwys:["27L","27R"]}],callsign:"EGLL",x:0,y:0,runways:[{x:0,y:-10,length:12802,type:"asphalt",size:2,hdg1:91,hdg2:271,name1:"09L",name2:"27R"},{x:0,y:10,length:12008,type:"asphalt",size:2,hdg1:91,hdg2:271,name1:"09R",name2:"27L"}]}},schiphol:{name:"schiphol",outboundWaypoints:["EH610","SPY","OMORU","TULIP"],inboundWaypoints:["EH040","LILSI","IVLET","SUSET"],waypoints:{NV:{x:670,y:0},CH:{x:400,y:100},EKROS:{x:500,y:150},BASNO:{x:410,y:390},EH040:{x:300,y:100},EH610:{x:0,y:100},SPY:{x:400,y:720},OA:{x:640,y:550},LILSI:{x:1280,y:600},PAM:{x:600,y:360},OMORU:{x:1280,y:360},IVLET:{x:1280,y:200},SUSET:{x:1100,y:0},TULIP:{x:0,y:640},EH639:{x:794.794430213186,y:387.85039343644166},EH633:{x:605.3459322519757,y:80.38373026871932},EH635:{x:645.3459322519757,y:73.38373026871932},EH126:{x:585.3459322519757,y:100.38373026871932},EH642:{x:365.3837302687193,y:365.3459322519757},EH047:{x:611.5139103734476,y:599.6984976460062},EH626:{x:634.6540677480242,y:639.6162697312807},EH616:{x:404.5465330762007,y:201.62260601470263},EH654:{x:879.4534669237993,y:498.37739398529743}},routes:{},airport:{rwyusage:[{dir:45,rwys:["09"]},{dir:135,rwys:["36L","36C"]},{dir:220,rwys:["24","27"]},{dir:330,rwys:["18L","36R"]}],callsign:"EHAM",x:0,y:0,runways:[{x:-40,y:20,length:12468,type:"asphalt",size:2,hdg1:3,hdg2:183,name1:"36L",name2:"18R"},{x:2,y:-10,length:11483,type:"asphalt",size:2,hdg1:58,hdg2:238,name1:"06",name2:"24"},{x:5,y:20,length:11329,type:"asphalt",size:2,hdg1:87,hdg2:267,name1:"09",name2:"27"},{x:20,y:-7,length:11155,type:"asphalt",size:2,hdg1:3,hdg2:183,name1:"36R",name2:"18L"},{x:-20,y:0,length:10827,type:"asphalt",size:2,hdg1:3,hdg2:183,name1:"36C",name2:"18C"},{x:35,y:-5,length:10827,type:"asphalt",size:2,hdg1:41,hdg2:221,name1:"04",name2:"22"}]}}},Oe=[];for(var we in be)be.hasOwnProperty(we)&&Oe.push(we);var _e=function(t){function e(){_(this,e);var n=C(this,t.call(this));return n.synth="undefined"!=typeof window?window.speechSynthesis:{addEventListener:function(){},getVoices:function(){return[]}},n.voice=n.synth.getVoices()[0],n.pitch=1,n.rate=1,n}return S(e,t),e.prototype.getCommandText=function(t,e,n){var r=t.tgt,o=[ae[r.operatorId].callsign+r.flight];if(t.takeoff&&t.tgt.outboundRwy&&o.push("takeoff runway "+t.tgt.outboundRwy+", the wind is "+e+" at "+n+" knots"),t.direction)t.direction!==t.tgt.tgtDirection&&o.push("direct to "+t.direction);else if("number"==typeof t.heading&&t.heading!==t.tgt.tgtDirection){var i=t.heading,a=r.heading;o.push(i-a<-(a-i)?"turn left heading "+i:"turn right heading "+i)}if(t.altitude&&t.altitude!==t.tgt.tgtAltitude){var s=t.altitude>18e3?"flight level "+Math.round(t.altitude/100)+" ":t.altitude+" feet ";o.push(t.altitude<r.altitude?"descend and maintain "+s:"climb and maintain "+s)}return t.speed&&t.speed!==t.tgt.tgtSpeed&&o.push(t.speed<r.speed?"slow down to "+t.speed+" knots":"increase your airspeed to "+t.speed+" knots"),o.length>2&&o.splice(o.length-1,0,"and"),o=o.join(" "),o+="."},e.prototype.speak=function(t){var e=new SpeechSynthesisUtterance(t);e.voice=this.voice,e.pitch=this.pitch,e.rate=this.rate,e.onerror=console.warn,this.synth.speak(e)},e}(te.EventEmitter),Ce=new _e,Se=function(t){function e(){x(this,e);var n=j(this,t.call(this));return n.speechsynthesis=!1,n.speechrecognition=!1,n.voices=Ce.synth.getVoices(),n.rate=Ce.rate,n.voice=Ce.voice,n.pitch=Ce.pitch,n.speed=1,n.distanceCircles=!0,n.distanceCirclesDistance=200,n.distanceCirclesAmount=5,n.distanceCircleColor="#009000",n.ilsPathLength=250,n.ilsPathColor="#ffffbb",n.ilsDashInterval=[20,30],n.sepVialationCircleColor="#ff0000",n.newPlaneInterval=100,n.startingInboundPlanes=3,n.startingOutboundPlanes=2,n.changePitch=n.changePitch.bind(n),n.changeRate=n.changeRate.bind(n),n.changeVoice=n.changeVoice.bind(n),n.handleVoicesChange=n.handleVoicesChange.bind(n),Ce.synth.addEventListener("voiceschanged",n.handleVoicesChange),n}return P(e,t),e.prototype.handleVoicesChange=function(){this.voices=Ce.synth.getVoices(),void 0===Ce.voice&&(this.voice=this.voices[0],Ce.voice=this.voice)},e.prototype.changePitch=function(t){Ce.pitch=t,this.pitch=t,this.emit("change")},e.prototype.changeRate=function(t){Ce.rate=t,this.rate=t,this.emit("change")},e.prototype.changeVoice=function(t){Ce.voice=t,this.voice=t,this.emit("change")},e.prototype.setSpeed=function(t){this.speed=t,this.emit("change")},e}(te.EventEmitter),xe=new Se,je=String.fromCharCode,Pe={compress:function(t){return Pe._compress(t,16,function(t){return je(t)})},_compress:function(t,e,n){if(null==t)return"";var r,o,i,a={},s={},c="",l="",h="",u=2,p=3,d=2,f=[],g=0,y=0;for(i=0;i<t.length;i+=1)if(c=t.charAt(i),Object.prototype.hasOwnProperty.call(a,c)||(a[c]=p++,s[c]=!0),l=h+c,Object.prototype.hasOwnProperty.call(a,l))h=l;else{if(Object.prototype.hasOwnProperty.call(s,h)){if(h.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,y==e-1?(y=0,f.push(n(g)),g=0):y++;for(o=h.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1}else{for(o=1,r=0;r<d;r++)g=g<<1|o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o=0;for(o=h.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1}u--,0==u&&(u=Math.pow(2,d),d++),delete s[h]}else for(o=a[h],r=0;r<d;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1;u--,0==u&&(u=Math.pow(2,d),d++),a[l]=p++,h=String(c)}if(""!==h){if(Object.prototype.hasOwnProperty.call(s,h)){if(h.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,y==e-1?(y=0,f.push(n(g)),g=0):y++;for(o=h.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1}else{for(o=1,r=0;r<d;r++)g=g<<1|o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o=0;for(o=h.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1}u--,0==u&&(u=Math.pow(2,d),d++),delete s[h]}else for(o=a[h],r=0;r<d;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1;u--,0==u&&(u=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)g=g<<1|1&o,y==e-1?(y=0,f.push(n(g)),g=0):y++,o>>=1;for(;;){if(g<<=1,y==e-1){f.push(n(g));break}y++}return f.join("")},decompress:function(t){return null==t?"":""==t?null:Pe._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(t,e,n){var r,o,i,a,s,c,l,h=[],u=4,p=4,d=3,f="",g=[],y={val:n(0),position:e,index:1};for(r=0;r<3;r+=1)h[r]=r;for(i=0,s=Math.pow(2,2),c=1;c!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=e,y.val=n(y.index++)),i|=(a>0?1:0)*c,c<<=1;switch(i){case 0:for(i=0,s=Math.pow(2,8),c=1;c!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=e,y.val=n(y.index++)),i|=(a>0?1:0)*c,c<<=1;l=je(i);break;case 1:for(i=0,s=Math.pow(2,16),c=1;c!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=e,y.val=n(y.index++)),i|=(a>0?1:0)*c,c<<=1;l=je(i);break;case 2:return""}for(h[3]=l,o=l,g.push(l);;){if(y.index>t)return"";for(i=0,s=Math.pow(2,d),c=1;c!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=e,y.val=n(y.index++)),i|=(a>0?1:0)*c,c<<=1;switch(l=i){case 0:for(i=0,s=Math.pow(2,8),c=1;c!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=e,y.val=n(y.index++)),i|=(a>0?1:0)*c,c<<=1;h[p++]=je(i),l=p-1,u--;break;case 1:for(i=0,s=Math.pow(2,16),c=1;c!=s;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=e,y.val=n(y.index++)),i|=(a>0?1:0)*c,c<<=1;h[p++]=je(i),l=p-1,u--;break;case 2:return g.join("")}if(0==u&&(u=Math.pow(2,d),d++),h[l])f=h[l];else{if(l!==p)return null;f=o+o.charAt(0)}g.push(f),h[p++]=o+f.charAt(0),u--,o=f,0==u&&(u=Math.pow(2,d),d++)}}},Ee=Pe,Me=function(){var t="undefined"!=typeof window?localStorage.getItem("game-persistance"):null;if(t){var e=Ee.decompress(t);return JSON.parse(e)}return{games:{}}},ke=function(t){var e=JSON.stringify(t,function(t,e){return null!==e&&void 0!==e&&e.toFixed?+e.toFixed(3):e}),n=Ee.compress(e);localStorage.setItem("game-persistance",n)},Le=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Te=function(t){function e(){E(this,e);var n=M(this,t.call(this));return n.traffic=[],n.paused=!1,n.started=!1,n.interval=null,n.width=1280,n.height=720,n.log=[],n.selfLog=[],n.pathCounter=0,n.waypoints={},n.airport={},n.callsigns={},n.callsignsPos={},n._remove=[],n.mapName=null,n.update=n.update.bind(n),n._newPlane=n._newPlane.bind(n),n}return k(e,t),e.prototype.startMap=function(t){this.arrivals=0,this.departures=0,this.enroutes=0,this.unpermittedDepartures=0,this.distanceVialations=0;var e=this.map=de(t);this.winddir=Math.floor(360*Math.random()),this.windspd=Math.floor(12*Math.random()),this._setup(e);for(var n=0;n<xe.startingInboundPlanes;n++)this._newPlaneInboundOnRoute();for(var r=0;r<xe.startingOutboundPlanes;r++)this._newPlaneOutbound()},e.prototype.startSaved=function(t){this.loadJson(Me().games[t]),this._setup(this.map=de(this.mapName))},e.prototype._setup=function(t){var e,n,r=this;this.waypoints=t.waypoints,this.airport=t.airport,this._edgeDetection={},this.sepDistanceVialotions={},this.started=!0,this.callsigns={},this.callsignsPos={},this.mapName=t.name,this._setupWaypoints(t),window.rwyRelPos=function(e,n){return me(t.airport,r.callsigns[e],r.width,r.height,n,!0)},Le.apply(void 0,[this.callsigns,this.waypoints,(e={},e[t.airport.callsign]=t.airport,e)].concat(t.airport.runways.map(function(t){var e;return e={},e[t.name1]=t,e[t.name2]=t,e})));var o=this.width/2+t.airport.x,i=this.height/2+t.airport.y;if(Le.apply(void 0,[this.callsignsPos].concat(Object.keys(this.waypoints).map(function(t){var e,n=r.waypoints[t];return e={},e[t]={ref:n,x:n.x,y:n.y},e}),[(n={},n[t.airport.callsign]={ref:t.airport,x:o,y:i},n)],t.airport.runways.map(function(e){var n,o=me(t.airport,e,r.width,r.height);return n={},n[e.name1]={ref:e,x:o.x1,y:o.y1},n[e.name2]={ref:e,x:o.x2,y:o.y2},n}))),this.interval)throw"Already set interval";if(this.interval=setInterval(this.update,ue.updateInterval),this.newTrafficInterval)throw"Already set new traffic interval";this.newTrafficInterval=setInterval(this._newPlane,1e3*xe.newPlaneInterval),this.emit("change"),this.emit("start")},e.prototype._setupWaypoints=function(){var t=this.map;this.inboundWpOrdered=t.inboundWaypoints.slice(0).sort(function(){return Math.random()-.5}),this.outboundWpOrdered=t.outboundWaypoints.slice(0).sort(function(){return Math.random()-.5}),this.enrouteRoutesOrdered=[];for(var e=0;e<t.inboundWaypoints.length;e++)for(var n=0;n<t.outboundWaypoints.length;n++){var r=t.inboundWaypoints[e],o=t.outboundWaypoints[e],i=t.routes[r+"->"+o];i&&this.enrouteRoutesOrdered.push(i)}this.enrouteRoutesOrdered.sort(function(){return Math.random()-.5})},e.prototype._newPlane=function(){Math.random()>.5?this._newPlaneInboundOnRoute():this._newPlaneOutbound()},e.prototype._newPlaneInboundOnRoute=function(){var t=this.map;0===this.inboundWpOrdered.length&&(this.inboundWpOrdered=t.inboundWaypoints.slice(0).sort(function(){return Math.random()-.5}));var e=this.inboundWpOrdered.pop(),n=this.callsignsPos[e],r=this.width/2,o=this.height/2,i=Math.floor(fe(n.x,n.y,r,o))%360;this.traffic.push(he.create(n.x,n.y,i,ne.INBOUND))},e.prototype._newPlaneInboundOnEdge=function(){var t=ue.headingInitVariation,e=Math.floor(4*Math.random()),n=1===e?this.width:3===e?0:Math.random()*this.width,r=0===e?this.height:2===e?0:Math.random()*this.height,o=this.width/2,i=this.height/2,a=Math.floor(fe(n,r,o,i)-.5*t+Math.random()*t)%360;this.traffic.push(he.create(n,r,a,ne.INBOUND))},e.prototype._newPlaneOutbound=function(){var t=ye(this.airport,this.winddir),e=t[Math.floor(Math.random()*t.length)],n=this.callsignsPos[e],r=n.ref.name1===e?n.ref.hdg1:n.ref.hdg2,o=this.map.outboundWaypoints[Math.floor(Math.random()*this.map.outboundWaypoints.length)];this.traffic.push(he.createOutbound(n.x,n.y,r,e,o))},e.prototype.update=function(){if(!this.paused){var t=!1,e=ue.globalSpeed*xe.speed;this.pathCounter=++this.pathCounter%Math.floor(ue.pathCounterUpdateEvery/e);var n=0===this.pathCounter;for(var r in this.sepDistanceVialotions)delete this.sepDistanceVialotions[r];for(var o=0;o<this.traffic.length;o++){var i=this.traffic[o];if(!i.outboundRwy){var a=Math.sin(i.heading*Math.PI/180),s=Math.cos(i.heading*Math.PI/180);i.x+=a*e*i.speed*ue.baseAirplaneSpeed,i.y+=s*e*i.speed*ue.baseAirplaneSpeed;var c=Math.min(40*e,Math.max(-40*e,i.tgtAltitude-i.altitude)),l=i.altitude<1e4&&i.tgtSpeed>250?Math.min(250,i.tgtSpeed):i.tgtSpeed;i.speed+=Math.min(1*e,Math.max(-1*e,l-i.speed));var h=void 0;if("number"==typeof i.tgtDirection)h=i.tgtDirection;else if("string"==typeof i.tgtDirection){var u=this.callsignsPos[i.tgtDirection];if(u)if(i.routeType===ne.INBOUND&&u.ref.type===pe.RWY){var p=u.ref.name1===i.tgtDirection?u.ref.hdg1:u.ref.hdg2,d=180*Math.atan2(u.x-i.x,u.y-i.y)/Math.PI,f=ge(p,d),g=(u.x-i.x)/Math.sin(d*Math.PI/180),y=ge(i.heading,p),m=i.altitude>g*ue.ilsSlopeSteepness*2+500;if(g=isFinite(g)?g:.1,i.altitude<3200&&Math.abs(f)<20&&Math.abs(y)<20&&!m&&(c=Math.min(100*e,Math.max(-100*e,Math.min(i.altitude,g*ue.ilsSlopeSteepness)-i.altitude))),i.altitude<3200&&Math.abs(f)<20)h=p+Math.min(45,Math.max(-45,Math.max(Math.abs(f),10)*f));else{if(i.altitude<500&&Math.abs(y)<20){console.log(i,"succesfully landed"),this.arrivals++,this._remove.push(i);continue}h=i.heading}}else h=fe(i.x,i.y,this.callsignsPos[i.tgtDirection].x,this.callsignsPos[i.tgtDirection].y);else h=i.heading}if(i.routeType!==ne.INBOUND){var v=this.callsignsPos[i.outboundWaypoint];if(Math.abs(i.x-v.x)+Math.abs(i.y-v.y)<15){this.departures++,this._remove.push(i);continue}}if(i.x<-3||i.y<-3||i.x>this.width+3||i.y>this.height+3)this.unpermittedDepartures++,this._remove.push(i);else{i.speed>=ie[i.typeId].landingSpeed-.01&&(i.heading+=Math.min(1*e,Math.max(-1*e,ge(i.heading,h))),i.heading=(i.heading+360)%360,i.altitude+=c),n&&(i.path.unshift([i.x,i.y]),i.path.length>=ue.maxPathLen&&i.path.pop());for(var b=ue.threeMileRuleDistance,O=Math.round(i.x/b),w=Math.round(i.y/b),_=0;_<2;_++)for(var C=0;C<9;C++){var S=Math.round(O+C%3-1)+"x"+Math.round(w+C/3-1)+"/"+(Math.floor(5e-4*i.altitude)+_),x=this._edgeDetection[S];if(x&&!x[i.flight])for(var j in x){var P=x[j];if(!(Math.abs(P.altitude-i.altitude)>1001)){var E=Math.abs(i.x-P.x)/b,M=Math.abs(i.y-P.y)/b;E*E+M*M<1&&(this.sepDistanceVialotions[P.flight]=i,this.sepDistanceVialotions[i.flight]=P,t=!0)}}this._edgeDetection[S]=x||{},this._edgeDetection[S][i.flight]=i}}}}for(var k in this._edgeDetection)delete this._edgeDetection[k];if(this._remove.length>0){for(var L=0;L<this._remove.length;L++)this.traffic.splice(this.traffic.indexOf(this._remove[L]),1);this._remove.length=0}t&&this.distanceVialations++,this.emit("change")}},e.prototype.stop=function(){clearInterval(this.interval),this.interval=null,clearInterval(this.newTrafficInterval),this.newTrafficInterval=null,this.traffic=[],this.started=!1,this.emit("change")},e.prototype.pause=function(){this.paused=!0,this.emit("change")},e.prototype.resume=function(){this.paused=!1,this.emit("change")},e.prototype.addLog=function(t,e){this.log.push(t),e&&this.selfLog.push(t),this.emit("change")},e.prototype.toJson=function(){for(var t={},e=0;e<Ne.length;e++)t[Ne[e]]=this[Ne[e]];return t},e.prototype.loadJson=function(t){for(var e=0;e<Ne.length;e++)this[Ne[e]]=t[Ne[e]]},e.prototype.setSvgEl=function(t){this.svgEl=t},e}(te.EventEmitter),Ne=["traffic","started","width","height","log","selfLog","pathCounter","mapName","arrivals","departures","enroutes","distanceVialations","mapName","winddir","windspd","unpermittedDepartures"],Ae=new Te,Ie=(n("ybWk"),Object(Vt.h)("span",null,"Speech Synthesis")),Re=Object(Vt.h)("span",null,"Speech Synthesis Voices"),De=Object(Vt.h)("span",null,"Pitch:"),We=Object(Vt.h)("span",null,"Rate:"),Ue=Object(Vt.h)("span",null,"Speech Recognition"),He=Object(Vt.h)("span",null,"Game Speed"),Ve=Object(Vt.h)("span",null,"Difficulty:"),Be=Object(Vt.h)("option",{value:"easy"},"Easy"),Ge=Object(Vt.h)("option",{value:"normal"},"Normal"),qe=Object(Vt.h)("option",{value:"hard"},"Hard"),Ke=Object(Vt.h)("span",null,"Distance Circle"),ze=Object(Vt.h)("span",null,"Distance Circle Color:"),Fe=Object(Vt.h)("span",null,"ILS Indicator Color:"),Ze=Object(Vt.h)("span",null,"Seperatorion Circle Color:"),$e=function(t){function e(){L(this,e);var n=T(this,t.call(this));return n.state={difficulty:"normal"},n.handleSpeechRecognitionSettingChange=n.handleSpeechRecognitionSettingChange.bind(n),n.handleSpeechSynthesisSettingChange=n.handleSpeechSynthesisSettingChange.bind(n),n.handleVoicesChange=n.handleVoicesChange.bind(n),n.handlePitchChange=n.handlePitchChange.bind(n),n.handleRateChange=n.handleRateChange.bind(n),n.handleSpeechVoiceChange=n.handleSpeechVoiceChange.bind(n),n.handleSettingsStoreChange=n.handleSettingsStoreChange.bind(n),n.handleSpeedChange=n.handleSpeedChange.bind(n),n.handleDifficultyChange=n.handleDifficultyChange.bind(n),n.handleIlsPathColorChange=n.handleIlsPathColorChange.bind(n),n.handleDistanceCircleColor=n.handleDistanceCircleColor.bind(n),n}return N(e,t),e.prototype.componentWillMount=function(){xe.on("change",this.handleSettingsStoreChange),Ce.synth.addEventListener("voiceschanged",this.handleVoicesChange)},e.prototype.componentWillUnmount=function(){xe.removeListener("change",this.handleSettingsStoreChange),Ce.synth.removeEventListener("voiceschanged",this.handleVoicesChange)},e.prototype.handleSettingsStoreChange=function(){this.setState({})},e.prototype.handleSpeechVoiceChange=function(t){xe.changeVoice(xe.voices[+t.target.value]),xe.emit("change")},e.prototype.handleSpeechSynthesisSettingChange=function(t){xe.speechsynthesis=t.target.checked,xe.emit("change")},e.prototype.handleSpeechRecognitionSettingChange=function(t){xe.speechrecognition=t.target.checked,xe.emit("change")},e.prototype.handleVoicesChange=function(){xe.emit("change")},e.prototype.handlePitchChange=function(t){xe.changePitch(+t.target.value),xe.emit("change")},e.prototype.handleRateChange=function(t){xe.changeRate(+t.target.value),xe.emit("change")},e.prototype.handleSpeedChange=function(t){xe.setSpeed(+t.target.value),xe.emit("change")},e.prototype.handleDifficultyChange=function(t){switch(t.target.value){case"easy":xe.startingInboundPlanes=1,xe.startingOutboundPlanes=1,xe.newPlaneInterval=180;break;case"normal":xe.startingInboundPlanes=3,xe.startingOutboundPlanes=2,xe.newPlaneInterval=100;break;case"hard":xe.startingInboundPlanes=4,xe.startingOutboundPlanes=3,xe.newPlaneInterval=70}},e.prototype.handleIlsPathColorChange=function(t){xe.ilsPathColor=t.target.value,xe.emit("change")},e.prototype.handleDistanceCircleColor=function(t){xe.distanceCircleColor=t.target.value,xe.emit("change")},e.prototype.handleSepVialotionCircleColor=function(t){xe.sepVialationCircleColor=t.target.value,xe.emit("change")},e.prototype.handleDistanceCircleChange=function(t){xe.distanceCircles=t.target.checked,xe.emit("change")},e.prototype.render=function(){return Object(Vt.h)("div",{className:"settings"},Object(Vt.h)("div",{className:"speechsynthesis-setting mb"},Ie,Object(Vt.h)("input",{type:"checkbox",onInput:this.handleSpeechSynthesisSettingChange,checked:xe.speechsynthesis})),Object(Vt.h)("div",{className:"speechsynthesis-voices-setting mb"},Re,Object(Vt.h)("select",{style:"color: #333; background: #fff",onInput:this.handleSpeechVoiceChange},xe.voices.map(function(t,e){return Object(Vt.h)("option",{key:e,value:e},t.name," - ",t.lang)}))),De,Object(Vt.h)("div",{className:"speechsynthesis-pitch-setting range-slider mb"},Object(Vt.h)("input",{className:"range-slider__range",type:"range",min:"0.1",max:"2",step:"0.1",value:xe.pitch,onInput:this.handlePitchChange}),Object(Vt.h)("span",{class:"range-slider__value"},xe.pitch)),We,Object(Vt.h)("div",{className:"speechsynthesis-rate-setting range-slider mb"},Object(Vt.h)("input",{className:"range-slider__range",type:"range",min:"0.1",max:"2",step:"0.1",value:xe.rate,onInput:this.handleRateChange}),Object(Vt.h)("span",{class:"range-slider__value"},xe.rate)),Object(Vt.h)("div",{className:"mb"},Ue,Object(Vt.h)("input",{type:"checkbox",onInput:this.handleSpeechRecognitionSettingChange,checked:xe.speechrecognition})),He,Object(Vt.h)("div",{className:"range-slider mb"},Object(Vt.h)("input",{className:"range-slider__range",type:"range",min:"0.1",max:"10",step:"0.1",value:xe.speed,onInput:this.handleSpeedChange}),Object(Vt.h)("span",{class:"range-slider__value"},xe.speed)),Object(Vt.h)("div",{className:"mb"},Ve,Object(Vt.h)("select",{value:this.state.difficulty,onInput:this.handleDifficultyChange},Be,Ge,qe)),Object(Vt.h)("div",{className:"mb"},Ke,Object(Vt.h)("input",{type:"checkbox",onInput:this.handleDistanceCircleChange,checked:xe.distanceCircles})),Object(Vt.h)("div",{className:"mb"},ze,Object(Vt.h)("input",{type:"color",value:xe.distanceCircleColor,onInput:this.handleDistanceCircleColor})),Object(Vt.h)("div",{className:"mb"},Fe,Object(Vt.h)("input",{type:"color",value:xe.ilsPathColor,onInput:this.handleIlsPathColorChange})),Object(Vt.h)("div",{className:"mb"},Ze,Object(Vt.h)("input",{type:"color",value:xe.sepVialationCircleColor,onInput:this.handleSepVialotionCircleColor})))},e}(Vt.Component),Je=$e,Ye=(n("1t2z"),Object(Vt.h)("circle",{r:"2"})),Qe=function(t){function e(){A(this,e);var n=I(this,t.call(this));return n.state={waypoints:Ae.waypoints},n.handleGameStoreStart=n.handleGameStoreStart.bind(n),n}return R(e,t),e.prototype.componentWillMount=function(){Ae.on("start",this.handleGameStoreStart)},e.prototype.componentWillUnmount=function(){Ae.removeListener("start",this.handleGameStoreStart)},e.prototype.handleGameStoreStart=function(){this.setState({waypoints:Ae.waypoints})},e.prototype.render=function(){var t=this,e=Object.keys(this.state.waypoints).map(function(e){var n=t.state.waypoints[e];return Object(Vt.h)("g",{className:"waypoint",transform:"translate("+n.x+" "+(Ae.height-n.y)+")"},Ye,Object(Vt.h)("text",{x:"4"},e))});return Object(Vt.h)("g",{className:"waypoints"},e)},e}(Vt.Component),Xe=Qe,tn=n("KSGD"),en=n.n(tn),nn="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),rn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,on="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",an={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},sn=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,cn={},ln="undefined"==typeof process||!process.env||!1,hn=Object(Vt.h)("a",null).constructor;hn.prototype.$$typeof=rn,hn.prototype.preactCompatUpgraded=!1,hn.prototype.preactCompatNormalized=!1,Object.defineProperty(hn.prototype,"type",{get:function(){return this.nodeName},set:function(t){this.nodeName=t},configurable:!0}),Object.defineProperty(hn.prototype,"props",{get:function(){return this.attributes},set:function(t){this.attributes=t},configurable:!0});var un=Vt.options.event;Vt.options.event=function(t){return un&&(t=un(t)),t.persist=Object,t.nativeEvent=t,t};var pn=Vt.options.vnode;Vt.options.vnode=function(t){if(!t.preactCompatUpgraded){t.preactCompatUpgraded=!0;var e=t.nodeName,n=t.attributes=et({},t.attributes);"function"==typeof e?(!0===e[on]||e.prototype&&"isReactComponent"in e.prototype)&&(t.children&&""===String(t.children)&&(t.children=void 0),t.children&&(n.children=t.children),t.preactCompatNormalized||$(t),W(t)):(t.children&&""===String(t.children)&&(t.children=void 0),t.children&&(n.children=t.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),U(t,n))}pn&&pn(t)};var dn=function(){};dn.prototype.getChildContext=function(){return this.props.context},dn.prototype.render=function(t){return t.children[0]};for(var fn,gn=[],yn={map:function(t,e,n){return null==t?null:(t=yn.toArray(t),n&&n!==t&&(e=e.bind(n)),t.map(e))},forEach:function(t,e,n){if(null==t)return null;t=yn.toArray(t),n&&n!==t&&(e=e.bind(n)),t.forEach(e)},count:function(t){return t&&t.length||0},only:function(t){if(t=yn.toArray(t),1!==t.length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:function(t){return null==t?[]:gn.concat(t)}},mn={},vn=nn.length;vn--;)mn[nn[vn]]=G(nn[vn]);var bn={configurable:!0,get:function(){return this.class},set:function(t){this.class=t}};et(gt.prototype=new Vt.Component,{constructor:gt,isReactComponent:{},replaceState:function(t,e){var n=this;this.setState(t,e);for(var r in n.state)r in t||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),ot.prototype=gt.prototype,yt.prototype=new ot,yt.prototype.isPureReactComponent=!0,yt.prototype.shouldComponentUpdate=function(t,e){return nt(this.props,t)||nt(this.state,e)};var On=(n("4TN0"),Object(Vt.h)("circle",{r:"2",fill:"#fff"})),wn=function(t){function e(){mt(this,e);var n=vt(this,t.call(this));return n.state={airport:Ae.airport},n.handleGameStoreStart=n.handleGameStoreStart.bind(n),n}return bt(e,t),e.prototype.componentWillMount=function(){Ae.on("start",this.handleGameStoreStart)},e.prototype.componentWillUnmount=function(){Ae.removeListener("start",this.handleGameStoreStart)},e.prototype.handleGameStoreStart=function(){this.setState({airport:Ae.airport})},e.prototype.renderRwy=function(t){var e=t.length*ue.rwyLenScale,n=Math.sin(t.hdg1*Math.PI/180)*-e,r=Math.cos(t.hdg1*Math.PI/180)*-e,o=Math.sin(t.hdg2*Math.PI/180)*-e,i=Math.cos(t.hdg2*Math.PI/180)*-e,a=Math.sin(t.hdg1*Math.PI/180)*-xe.ilsPathLength,s=Math.cos(t.hdg1*Math.PI/180)*-xe.ilsPathLength,c=Math.sin(t.hdg2*Math.PI/180)*-xe.ilsPathLength,l=Math.cos(t.hdg2*Math.PI/180)*-xe.ilsPathLength;return Object(Vt.h)("g",{className:"rwy",transform:"translate("+t.x+" "+-t.y+")"},Object(Vt.h)("line",{className:"ils-line ils-line-1","stroke-dasharray":xe.ilsDashInterval.join(),x1:n,y1:-r,x2:a,y2:-s}),Object(Vt.h)("line",{className:"ils-line ils-line-2","stroke-dasharray":xe.ilsDashInterval.join(),x1:o,y1:-i,x2:c,y2:-l}),Object(Vt.h)("line",{className:"rwy-line",x1:n,y1:-r,x2:o,y2:-i}),Object(Vt.h)("text",{x:n,y:-r},t.name1),Object(Vt.h)("text",{x:o,y:-i},t.name2))},e.prototype.render=function(){var t=this,e=this.state.airport;if(!e||!e.runways)return null;var n=Ae.width/2+e.x,r=Ae.height/2+e.y,o=e.runways.map(function(e){return t.renderRwy(e)}),i=null;if(xe.distanceCircles){i=new Array(xe.distanceCirclesAmount);for(var a=0;a<i.length;a++)i[a]=Object(Vt.h)("circle",{key:a,r:(a+1)*xe.distanceCirclesDistance,fill:"none",stroke:xe.distanceCircleColor})}return Object(Vt.h)("g",{className:"airport",transform:"translate("+n+" "+r+")"},i,On,Object(Vt.h)("g",{className:"runways"},o),Object(Vt.h)("text",{x:"4"},this.state.airport.callsign))},e}(gt),_n=wn,Cn=(n("9GBv"),function(t){function e(){return Ot(this,e),wt(this,t.call(this))}return _t(e,t),e.prototype.shouldComponentUpdate=function(t){return t.name!==this.props.name},e.prototype.render=function(){var t=this;if(this.props.name){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==e.readyState&&200==e.status&&(this.el.innerHTML=e.responseText)}.bind(this),e.open("GET","./assets/maps/"+this.props.name+".txt",!0),e.send()}return Object(Vt.h)("g",{transform:"translate(-640, -360)",className:"background",ref:function(e){return t.el=e}})},e}(gt)),Sn=Cn,xn=(n("rcWw"),function(t){function e(){Ct(this,e);var n=St(this,t.call(this));return n.state={paused:Ae.paused,started:Ae.started},n.handleGameStoreChange=n.handleGameStoreChange.bind(n),n.handlePauseResumeButtonClick=n.handlePauseResumeButtonClick.bind(n),n.handleScreenShotButtonClick=n.handleScreenShotButtonClick.bind(n),n.handleSaveButtonClick=n.handleSaveButtonClick.bind(n),n}return xt(e,t),e.prototype.componentWillMount=function(){Ae.on("change",this.handleGameStoreChange)},e.prototype.componentWillUnmount=function(){Ae.removeListener("change",this.handleGameStoreChange)},e.prototype.handleGameStoreChange=function(){this.setState({paused:Ae.paused,started:Ae.started})},e.prototype.handlePauseResumeButtonClick=function(){Ae[Ae.paused?"resume":"pause"]()},e.prototype.handleScreenShotButtonClick=function(t){if(Ae.svgEl){var e=Ae.svgEl.getElementsByTagName("svg")[0],n='<?xml version="1.0" standalone="no"?>\n'+e.outerHTML;t.target.setAttribute("href","data:image/svg+xml;base64,"+btoa(n)),t.target.setAttribute("download","screenshot")}},e.prototype.handleSaveButtonClick=function(){var t=Ae.toJson(),e=Me(),n=prompt("Name of your save?",Ae.mapName+" - "+(new Date).toLocaleDateString());if(e.games[n])return alert("Sorry this name already exists...");e.games[n]=t,ke(e)},e.prototype.render=function(){var t=this.state.paused;return Object(Vt.h)("div",{className:"gamemetacontrols"},Object(Vt.h)("a",{href:"#",className:"button",onClick:this.handleScreenShotButtonClick},"Screenshot"),Object(Vt.h)("button",{onClick:this.handlePauseResumeButtonClick},t?"Resume":"Pause"),Object(Vt.h)("button",{onClick:this.handleSaveButtonClick},"Save"))},e}(Vt.Component)),jn=xn,Pn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},En=Object(Vt.h)("circle",{cx:"0",cy:"0",r:"2","stroke-width":"0"}),Mn=Object(Vt.h)("span",null,"Heading ()"),kn=Object(Vt.h)("span",null,"Direct to "),Ln=Object(Vt.h)("span",null,"Speed (KTS)"),Tn=Object(Vt.h)("span",null,"Altitude (FT)"),Nn=Object(Vt.h)(Xe,null),An=Object(Vt.h)(_n,null),In=Object(Vt.h)("rect",{width:"100%",height:"100%",fill:"none",stroke:"#fff","stroke-dasharray":"20, 20"}),Rn=Object(Vt.h)("div",null,Object(Vt.h)("span",null,"Traffic:")),Dn=Object(Vt.h)(Je,null),Wn=Object(Vt.h)(jn,null),Un=function(t){function e(){jt(this,e);var n=Pt(this,t.call(this));return n.state={traffic:Ae.traffic,gameWidth:Ae.width,gameHeight:Ae.height,settingsExpanded:!1,cmd:{tgt:null,heading:null,altitude:null,speed:null}},n.handleGameStoreChange=n.handleGameStoreChange.bind(n),n.handleAltitudeTgtChange=n.handleAltitudeTgtChange.bind(n),n.handleHeadingTgtChange=n.handleHeadingTgtChange.bind(n),n.handleSpeedTgtChange=n.handleSpeedTgtChange.bind(n),n.handleCmdExecution=n.handleCmdExecution.bind(n),n.handleCmdExecutionDebounced=Hn(n.handleCmdExecution,1500),n.handleSVGClick=n.handleSVGClick.bind(n),n.handleTrafficStackClick=n.handleTrafficStackClick.bind(n),n.handleAirplaneClick=n.handleAirplaneClick.bind(n),n.handleDirectToTgtChange=n.handleDirectToTgtChange.bind(n),n.handleTakeoffClick=n.handleTakeoffClick.bind(n),n.handleExpandSettingsButtonClick=n.handleExpandSettingsButtonClick.bind(n),n.handleSettingsStoreChange=n.handleSettingsStoreChange.bind(n),n.dtcToDataListId="dct-tgt-"+Math.random().toString().replace(".",""),n}return Et(e,t),e.prototype.componentWillMount=function(){Ae.on("change",this.handleGameStoreChange),xe.on("change",this.handleSettingsStoreChange)},e.prototype.componentWillUnmount=function(){Ae.removeListener("change",this.handleGameStoreChange),xe.removeListener("change",this.handleSettingsStoreChange)},e.prototype.handleGameStoreChange=function(){this.setState({traffic:Ae.traffic,gameWidth:Ae.width,gameHeight:Ae.height})},e.prototype.handleSettingsStoreChange=function(){this.setState({})},e.prototype.handleCmdExecution=function(){var t=this.state.cmd;if(t.tgt){var e={},n=ie[t.tgt.typeId];if(t.direction&&Ae.callsigns[t.direction]?t.direction!==t.tgt.tgtDirection&&(e.tgtDirection=t.direction):"number"==typeof t.heading&&t.heading!==t.tgt.tgtDirection&&(e.tgtDirection=t.heading),"number"==typeof t.altitude&&t.altitude!==t.tgt.tgtAltitude&&(e.tgtAltitude=t.altitude=Math.min(1e3*n.ceiling,Math.max(2e3,t.altitude))),t.speed&&t.speed!==t.tgt.tgtSpeed&&(e.tgtSpeed=t.speed=Math.min(n.topSpeed,Math.max(n.minSpeed,t.speed))),t.takeoff&&t.tgt.outboundRwy&&(e.outboundRwy=void 0),Object.keys(e).length>0){var r=Ce.getCommandText(t,Ae.winddir,Ae.windspd);Ae.addLog(r,!0),xe.speechsynthesis&&Ce.speak(r),Pn(t.tgt,e),this.setState({cmd:t}),console.log("UPDATE",e)}}},e.prototype.handleHeadingTgtChange=function(t){this.setState(function(e){return e.cmd.heading=(+t.target.value+360)%360,e.cmd.direction=null,e}),this.handleCmdExecutionDebounced()},e.prototype.handleAltitudeTgtChange=function(t){this.setState(function(e){return e.cmd.altitude=Math.min(+t.target.max,t.target.value),e}),this.handleCmdExecutionDebounced()},e.prototype.handleSpeedTgtChange=function(t){this.setState(function(e){return e.cmd.speed=Math.min(+t.target.max,t.target.value),e}),this.handleCmdExecutionDebounced()},e.prototype.handleDirectToTgtChange=function(t){var e=t.target.value;this.state.cmd.tgt&&(this.setState(function(e){return e.cmd.direction=t.target.value,e}),Ae.callsigns[e]&&this.handleCmdExecutionDebounced())},e.prototype.handleSVGClick=function(t){var e=qn(t,function(t){return-1!==(t.getAttribute("class")||"").indexOf("airplane")});if(e){this.handleAirplaneClick(e.getAttribute("data-index"))}},e.prototype.handleTrafficStackClick=function(t){var e=qn(t,function(t){return-1!==(t.getAttribute("class")||"").indexOf("traffic-stack-entry")});if(e){this.handleAirplaneClick(e.getAttribute("data-index"))}},e.prototype.handleAirplaneClick=function(t){var e=this.state.traffic[t];this.state.cmd.tgt&&this.handleCmdExecution(),this.setState({cmd:{tgt:e,direction:"string"==typeof e.tgtDirection?e.tgtDirection:null,altitude:e.tgtAltitude,heading:"number"==typeof e.tgtDirection?e.tgtDirection:null,speed:e.tgtSpeed}})},e.prototype.handleTakeoffClick=function(){this.setState(function(t){return t.cmd.takeoff=!0,t}),this.handleCmdExecutionDebounced()},e.prototype.handleExpandSettingsButtonClick=function(){this.setState({settingsExpanded:!this.state.settingsExpanded})},e.prototype.renderTraffic=function(){var t=this;return this.state.traffic.map(function(e,n){if(!e.outboundRwy){var r=t.state.gameHeight-e.y,o=e.x,i=Vn(e,"tspan"),a=Gn(e,"tspan"),s=e.outboundWaypoint,c=Math.sin(e.heading*Math.PI/180)*ue.headingIndicatorLineLen,l=Math.cos(e.heading*Math.PI/180)*ue.headingIndicatorLineLen,h="M0,0 "+e.path.map(function(t){return"L"+(t[0]-e.x)+", "+-(t[1]-e.y)}),u=Ae.sepDistanceVialotions[e.flight];return Object(Vt.h)("g",{className:"airplane "+ne[e.routeType],"data-index":n,key:n,transform:"translate("+o+", "+r+")","data-heading":e.heading},u?Object(Vt.h)("circle",{r:ue.threeMileRuleDistance,className:"sep"}):null,En,Object(Vt.h)("line",{x1:"0",y1:"0",x2:c,y2:-l}),Object(Vt.h)("path",{"stroke-dasharray":"4, 5",d:h}),Object(Vt.h)("text",null,Object(Vt.h)("tspan",{dy:"1em"},ae[e.operatorId].callsign,e.flight),Object(Vt.h)("tspan",{dy:"1em",x:"0"},i),Object(Vt.h)("tspan",{dy:"1em",x:"0"},a),s?Object(Vt.h)("tspan",{dy:"1em",x:"0"},"",s):null))}})},e.prototype.renderTrafficStack=function(){return this.state.traffic.map(function(t,e){var n=Vn(t,"span"),r=Gn(t,"span"),o=("000"+Math.floor(t.heading)).substr(-3),i=ie[t.typeId],a=t.outboundWaypoint;return Object(Vt.h)("div",{className:"traffic-stack-entry "+ne[t.routeType],"data-index":e,key:e},ae[t.operatorId].callsign,t.flight," ",n," ",r," ",i.shortName," ",o,"",a?""+a:null)})},e.prototype.renderTrafficControl=function(){var t=this.state.cmd;if(t.tgt){var e=ie[t.tgt.typeId],n=t.tgt.altitude>1e4?e.topSpeed:Math.min(e.topSpeed,250),r=this.state.cmd.tgt&&this.state.cmd.tgt.altitude<3200?ve(Ae.airport,this.state.cmd.tgt,this.state.gameWidth,this.state.gameHeight).map(function(t){return t.rev?t.rwy.name2:t.rwy.name1}).map(function(t){return Object(Vt.h)("option",{value:t})}):null;return Object(Vt.h)("div",null,Object(Vt.h)("div",null,Mn,Object(Vt.h)("input",{onInput:this.handleHeadingTgtChange,value:t.heading,type:"number",step:"10"})),Object(Vt.h)("div",null,kn,Object(Vt.h)("input",{style:"color: #333",value:t.direction,list:this.dtcToDataListId,onInput:this.handleDirectToTgtChange}),Object(Vt.h)("datalist",{id:this.dtcToDataListId},t.tgt.routeType===ne.INBOUND?r:null,Object.keys(Ae.waypoints).map(function(t){return Object(Vt.h)("option",{value:t})}))),Object(Vt.h)("div",null,Ln,Object(Vt.h)("input",{onInput:this.handleSpeedTgtChange,value:t.speed,type:"number",max:n,step:"10"})),Object(Vt.h)("div",null,Tn,Object(Vt.h)("input",{onInput:this.handleAltitudeTgtChange,value:t.altitude,type:"number",max:1e3*e.ceiling,step:"1000"})),Object(Vt.h)("div",null,Object(Vt.h)("button",{onClick:this.handleTakeoffClick,className:t.tgt.outboundRwy?"":"hidden"},"Takeoff")))}},e.prototype.render=function(){var t=this.renderTraffic(),e=this.renderTrafficStack(),n=this.renderTrafficControl();return Object(Vt.h)("div",{className:"atc-view"},Object(Vt.h)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"atc-view-svg",width:window.innerWidth-250,height:window.innerHeight,onClick:this.handleSVGClick,viewBox:"0 0 1280 720",style:"background: #194850"},Object(Vt.h)("style",null,"\n            text {\n              font: 14px 'Helvetica';\n              fill: #fff;\n            }\n            .airplane circle {\n              fill: #fff;\n            }\n            .airplane line, .airplane path {\n              stroke: #fff;\n              stroke-width: 1;\n              fill: none;\n            }\n            .airplane.inbound line, .airplane.inbound path {\n              stroke: #bbf;\n            }\n            .airplane.outbound line, .airplane.outbound path {\n              stroke: #bfb;\n            }\n            .airplane.enroute line, .airplane.enroute path {\n              stroke: #ffb;\n            }\n            .airplane.inbound text, .airplane.inbound circle {\n              fill: #bbf;\n            }\n            .airplane.outbound text, .airplane.outbound circle {\n              fill: #bfb;\n            }\n            .airplane.enroute text, .airplane.enroute circle {\n              fill: #ffb;\n            }\n            .airplane tspan.up {\n              fill: #0f0;\n            }\n            .airplane tspan.down {\n              fill: #f00;\n            }\n            .waypoint circle {\n              fill: #fff;\n            }\n            .rwy-line {\n              stroke: #fff;\n              stroke-width: 3;\n            }\n            .ils-line {\n              stroke: "+xe.ilsPathColor+";\n              stroke-width: 1;\n            }\n            .background path {\n              fill: #1e606b;\n            }\n            .airplane circle.sep {\n              fill: "+xe.sepVialationCircleColor+";\n              fill-opacity: 0.2;\n              stroke: #f00;\n            }\n          "),Object(Vt.h)(Sn,{name:Ae.mapName}),Nn,An,t,In),Object(Vt.h)("div",{className:"abs-container scores"},Object(Vt.h)("div",null,"Departures: ",Ae.departures),Object(Vt.h)("div",null,"Arrivals: ",Ae.arrivals),Object(Vt.h)("div",null,"Seperation violations: ",Ae.distanceVialations)),Object(Vt.h)("div",{className:"traffic-stack-wrapper",style:{height:window.innerHeight}},Object(Vt.h)("div",null,Object(Vt.h)("span",null,"Wind: ",Ae.winddir," / ",Ae.windspd," kts")),Rn,Object(Vt.h)("div",{className:"traffic-stack",onClick:this.handleTrafficStackClick},e),Object(Vt.h)("div",{className:this.state.settingsExpanded?null:"hidden"},Dn),Object(Vt.h)("button",{onClick:this.handleExpandSettingsButtonClick},this.state.settingsExpanded?"Hide Options":"Expand Options"),Object(Vt.h)("div",{className:"traffic-control"},n),Wn))},e}(Vt.Component),Hn=function(t,e){var n=void 0;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){return t.apply(r,o)},e)}},Vn=function(t,e){return Math.abs(t.speed-t.tgtSpeed)>5?Object(Vt.h)(e,null,Math.round(t.speed),"KTS",t.tgtSpeed>t.speed?Object(Vt.h)(e,{className:"up"},"",Math.round(t.tgtSpeed),"KTS"):Object(Vt.h)(e,{className:"down"},"",Math.round(t.tgtSpeed),"KTS")):Object(Vt.h)(e,null,Math.round(t.speed),"KTS")},Bn=function(t,e){return Object(Vt.h)(e,null,t>18e3?"FL"+Math.floor(.01*t):Math.floor(t)+"FT")},Gn=function(t,e){return Math.abs(t.tgtAltitude-t.altitude)>100?Object(Vt.h)(e,null,Bn(t.altitude,e),t.tgtAltitude>t.altitude?Object(Vt.h)(e,{className:"up"},"",Bn(t.tgtAltitude,e)):Object(Vt.h)(e,{className:"down"},"",Bn(t.tgtAltitude,e))):Bn(t.altitude,e)},qn=function(t,e){for(var n=t.target;n;){if(e(n))return n;n=n.parentElement}return null},Kn=Un,zn=Object(Vt.h)("div",{id:"atc-game"},Object(Vt.h)(Kn,null)),Fn=function(t){function e(){Mt(this,e);var n=kt(this,t.call(this));return n.name="default",n.setRoot=function(t){n.root=t,Ae.setSvgEl(t)},n}return Lt(e,t),e.prototype.componentDidMount=function(){Ae.started||Ae.startMap(this.name)},e.prototype.render=function(){return Object(Vt.h)("div",{ref:this.setRoot,className:"Game"},zn)},e}(Vt.Component),Zn=Fn,$n=(n("FEkH"),n("JBOx"),Object(Vt.h)("path",{d:"M512 1536h768v-384h-768v384zm896 0h128v-896q0-14-10-38.5t-20-34.5l-281-281q-10-10-34-20t-39-10v416q0 40-28 68t-68 28h-576q-40 0-68-28t-28-68v-416h-128v1280h128v-416q0-40 28-68t68-28h832q40 0 68 28t28 68v416zm-384-928v-320q0-13-9.5-22.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 22.5v320q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5-9.5t9.5-22.5zm640 32v928q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1344q0-40 28-68t68-28h928q40 0 88 20t76 48l280 280q28 28 48 76t20 88z"})),Jn=Object(Vt.h)("path",{d:"M704 736v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm128 724v-948h-896v948q0 22 7 40.5t14.5 27 10.5 8.5h832q3 0 10.5-8.5t14.5-27 7-40.5zm-672-1076h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"}),Yn=Object(Vt.h)("small",null,"Nothing..."),Qn=function(t){function e(){Tt(this,e);var n=Nt(this,t.call(this)),r=[],o=Me();for(var i in o.games)o.games.hasOwnProperty(i)&&r.push({name:i,state:o.games[i]});return n.state={games:r},n.handleSavedGamesOpenListItemClick=n.handleSavedGamesOpenListItemClick.bind(n),n.handleSavedGameOpenListItemTrash=n.handleSavedGameOpenListItemTrash.bind(n),n}return At(e,t),e.prototype.componentWillMount=function(){},e.prototype.componentWillUnmount=function(){},e.prototype.handleSavedGamesOpenListItemClick=function(t){var e=t.currentTarget.getAttribute("data-name");if(Ae.started){if(!confirm("Another game is already playing. Make sure you have saved your progress. Do you want to continue?"))return;Ae.stop()}Ae.startSaved(e),f("/game")},e.prototype.handleSavedGameOpenListItemTrash=function(t){var e=t.currentTarget.getAttribute("data-name"),n=Me();delete n.games[e],ke(n);var r=[];for(var o in n.games)n.games.hasOwnProperty(o)&&r.push({name:o,state:n.games[o]});this.setState({games:r})},e.prototype.render=function(){var t=this,e=this.state.games.map(function(e,n){return Object(Vt.h)("div",{"data-name":e.name,key:n,className:"save"},Object(Vt.h)("h5",{className:"save-name"},e.name),Object(Vt.h)("svg",{onClick:t.handleSavedGamesOpenListItemClick,"data-name":e.name,className:"save-img",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},$n),Object(Vt.h)("svg",{"data-name":e.name,onClick:t.handleSavedGameOpenListItemTrash,className:"trash",viewBox:"0 0 1792 1792"},Jn))});return Object(Vt.h)("div",{className:"savedgamesopen"},"Saves:",Object(Vt.h)("div",{className:"savedgamesopen-list"},e.length>0?e:Yn))},e}(Vt.Component),Xn=Qn,tr=Object(Vt.h)("div",{className:"panel"},Object(Vt.h)("h1",null,"ATC Manager 2")),er=Object(Vt.h)("div",{className:"panel"},Object(Vt.h)(Xn,null)),nr=Object(Vt.h)("h2",{className:"mb"},"Start"),rr=Object(Vt.h)("span",{className:"mb"},"Area:"),or=Object(Vt.h)(Je,null),ir=function(t){function e(){It(this,e);var n=Rt(this,t.call(this));return n.state={mapname:Oe[0]},n.handleMapSelectionChange=n.handleMapSelectionChange.bind(n),n.handleStartClick=n.handleStartClick.bind(n),n}return Dt(e,t),e.prototype.componentWillMount=function(){},e.prototype.componentWillUnmount=function(){},e.prototype.handleMapSelectionChange=function(t){this.setState({mapname:t.target.value})},e.prototype.handleReturnToGame=function(){f("/game")},e.prototype.handleStartClick=function(){Ae.started&&Ae.stop(),Ae.startMap(this.state.mapname),f("/game")},e.prototype.render=function(){return Object(Vt.h)("div",{className:"home",style:"background-image: url('assets/bg.jpg')"},Object(Vt.h)("div",{className:"abs-container"},Ae.started?Object(Vt.h)("button",{onClick:this.handleReturnToGame},"Return to Game"):null),tr,er,Object(Vt.h)("div",{className:"panel"},nr,rr,Object(Vt.h)("select",{onInput:this.handleMapSelectionChange},Oe.map(function(t){return Object(Vt.h)("option",{value:t},sr(t))})),or,Object(Vt.h)("button",{onClick:this.handleStartClick},"Start")))},e}(Vt.Component),ar=ir,sr=function(t){return t[0].toUpperCase()+t.slice(1)};n.d(e,"default",function(){return hr});var cr=Object(Vt.h)(ar,{path:"/"}),lr=Object(Vt.h)(Zn,{path:"/game"}),hr=function(t){function e(){Wt(this,e);var n=Ut(this,t.call(this));return n.setState({}),n}return Ht(e,t),e.prototype.render=function(){var t="undefined"!=typeof window?Xt()():void 0;return Object(Vt.h)("main",null,Object(Vt.h)(Yt,{history:t},cr,lr))},e}(Vt.Component)},KSGD:function(t,e,n){t.exports=n("Q4WQ")()},Kfb6:function(){},Q4WQ:function(t,e,n){"use strict";var r=n("e6+Q");n("cxPT"),n("gt/O");t.exports=function(){function t(){}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},Wpbd:function(t,e){"use strict";function n(t){return"/"===t.charAt(0)}function r(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t&&t.split("/")||[],i=e&&e.split("/")||[],a=t&&n(t),s=e&&n(e),c=a||s;if(t&&n(t)?i=o:o.length&&(i.pop(),i=i.concat(o)),!i.length)return"/";var l=void 0;if(i.length){var h=i[i.length-1];l="."===h||".."===h||""===h}else l=!1;for(var u=0,p=i.length;p>=0;p--){var d=i[p];"."===d?r(i,p):".."===d?(r(i,p),u++):u&&(r(i,p),u--)}if(!c)for(;u--;u)i.unshift("..");!c||""===i[0]||i[0]&&n(i[0])||i.unshift("");var f=i.join("/");return l&&"/"!==f.substr(-1)&&(f+="/"),f}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},crWv:function(t){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],h=0;c=new Error(e.replace(/%s/g,function(){return l[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}},cxPT:function(t){"use strict";function e(t,e,r,o,i,a,s,c){if(n(e),!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[r,o,i,a,s,c],u=0;l=new Error(e.replace(/%s/g,function(){return h[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};t.exports=e},"e6+Q":function(t){"use strict";function e(t){return function(){return t}}var n=function(){};n.thatReturns=e,n.thatReturnsFalse=e(!1),n.thatReturnsTrue=e(!0),n.thatReturnsNull=e(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},t.exports=n},"gt/O":function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},kjbi:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n("GvBW"),a=r(i),s=n("crWv"),c=r(s),l=n("xIPz"),h=n("Izpu"),u=n("tqq1"),p=r(u),d=n("zFGm"),f={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,h.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:h.stripLeadingSlash,decodePath:h.addLeadingSlash},slash:{encodePath:h.addLeadingSlash,decodePath:h.addLeadingSlash}},g=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},y=function(t){return window.location.hash=t},m=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.default)(d.canUseDOM,"Hash history needs a DOM");var e=window.history,n=(0,d.supportsGoWithoutReloadUsingHash)(),r=t.getUserConfirmation,i=void 0===r?d.getConfirmation:r,s=t.hashType,u=void 0===s?"slash":s,v=t.basename?(0,h.stripTrailingSlash)((0,h.addLeadingSlash)(t.basename)):"",b=f[u],O=b.encodePath,w=b.decodePath,_=function(){var t=w(g());return(0,a.default)(!v||(0,h.hasBasename)(t,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+v+'".'),v&&(t=(0,h.stripBasename)(t,v)),(0,l.createLocation)(t)},C=(0,p.default)(),S=function(t){o(K,t),K.length=e.length,C.notifyListeners(K.location,K.action)},x=!1,j=null,P=function(){var t=g(),e=O(t);if(t!==e)m(e);else{var n=_(),r=K.location;if(!x&&(0,l.locationsAreEqual)(r,n))return;if(j===(0,h.createPath)(n))return;j=null,E(n)}},E=function(t){if(x)x=!1,S();else{C.confirmTransitionTo(t,"POP",i,function(e){e?S({action:"POP",location:t}):M(t)})}},M=function(t){var e=K.location,n=N.lastIndexOf((0,h.createPath)(e));-1===n&&(n=0);var r=N.lastIndexOf((0,h.createPath)(t));-1===r&&(r=0);var o=n-r;o&&(x=!0,D(o))},k=g(),L=O(k);k!==L&&m(L);var T=_(),N=[(0,h.createPath)(T)],A=function(t){return"#"+O(v+(0,h.createPath)(t))},I=function(t,e){(0,a.default)(void 0===e,"Hash history cannot push state; it is ignored");var n=(0,l.createLocation)(t,void 0,void 0,K.location);C.confirmTransitionTo(n,"PUSH",i,function(t){if(t){var e=(0,h.createPath)(n),r=O(v+e);if(g()!==r){j=e,y(r);var o=N.lastIndexOf((0,h.createPath)(K.location)),i=N.slice(0,-1===o?0:o+1);i.push(e),N=i,S({action:"PUSH",location:n})}else(0,a.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),S()}})},R=function(t,e){(0,a.default)(void 0===e,"Hash history cannot replace state; it is ignored");var n=(0,l.createLocation)(t,void 0,void 0,K.location);C.confirmTransitionTo(n,"REPLACE",i,function(t){if(t){var e=(0,h.createPath)(n),r=O(v+e);g()!==r&&(j=e,m(r));var o=N.indexOf((0,h.createPath)(K.location));-1!==o&&(N[o]=e),S({action:"REPLACE",location:n})}})},D=function(t){(0,a.default)(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},W=function(){return D(-1)},U=function(){return D(1)},H=0,V=function(t){H+=t,1===H?(0,d.addEventListener)(window,"hashchange",P):0===H&&(0,d.removeEventListener)(window,"hashchange",P)},B=!1,G=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=C.setPrompt(t);return B||(V(1),B=!0),function(){return B&&(B=!1,V(-1)),e()}},q=function(t){var e=C.appendListener(t);return V(1),function(){V(-1),e()}},K={length:e.length,action:"POP",location:T,createHref:A,push:I,replace:R,go:D,goBack:W,goForward:U,block:G,listen:q};return K}},rcWw:function(t){t.exports={GameMetaControls:"GameMetaControls__3Y5UT"}},tqq1:function(t,e,n){"use strict";e.__esModule=!0;var r=n("GvBW"),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(){var t=null,e=function(e){return(0,o.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,i){if(null!=t){var a="function"==typeof t?t(e,n):t;"string"==typeof a?"function"==typeof r?r(a,i):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}}},uXl7:function(t,e,n){"use strict";var r=n("EBst");"serviceWorker"in navigator&&"https:"===location.protocol&&navigator.serviceWorker.register(n.p+"sw.js");var o=function(t){return t&&t.default?t.default:t};if("function"==typeof o(n("JkW7"))){var i=document.body.firstElementChild,a=function(){var t=o(n("JkW7"));i=(0,r.render)((0,r.h)(t),document.body,i)};a()}},vzCy:function(t){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function i(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var e,r,a,s,c,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(r=this._events[t],i(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),l=r.slice(),a=l.length,c=0;c<a;c++)l[c].apply(this,s);return!0},e.prototype.addListener=function(t,r){var a;if(!n(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(r.listener)?r.listener:r),this._events[t]?o(this._events[t])?this._events[t].push(r):this._events[t]=[this._events[t],r]:this._events[t]=r,o(this._events[t])&&!this._events[t].warned&&(a=i(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,e){function r(){this.removeListener(t,r),o||(o=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var o=!1;return r.listener=e,this.on(t,r),this},e.prototype.removeListener=function(t,e){var r,i,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],a=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(s=a;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},e.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},e.listenerCount=function(t,e){return t.listenerCount(e)}},wdpN:function(){},xIPz:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n("Wpbd"),a=r(i),s=n("FKtm"),c=r(s),l=n("Izpu");e.createLocation=function(t,e,n,r){var i=void 0;"string"==typeof t?(i=(0,l.parsePath)(t),i.state=e):(i=o({},t),void 0===i.pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,a.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,c.default)(t.state,e.state)}},ybWk:function(t){t.exports={Settings:"Settings__1fN59"}},zFGm:function(t,e){"use strict";e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}}});
//# sourceMappingURL=bundle.948a7.js.map