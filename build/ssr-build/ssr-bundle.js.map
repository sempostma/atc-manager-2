{"version":3,"sources":["webpack:///webpack/bootstrap f80c797c79c41aafae6e","webpack:///./components/WayPoints/WayPoints.css","webpack:///./components/Airport/Airport.css","webpack:///./components/BackgroundSvg/BackgroundSvg.css","webpack:///./node_modules/preact/dist/preact.min.js","webpack:///./containers/Game/Game.css","webpack:///./containers/Home/Home.css","webpack:///./node_modules/value-equal/index.js","webpack:///./style.css","webpack:///external \"events\"","webpack:///./node_modules/history/PathUtils.js","webpack:///./components/SavedGamesOpen/SavedGamesOpen.css","webpack:///./node_modules/preact-router/dist/preact-router.es.js","webpack:///./lib/airplane-library.js","webpack:///./lib/airplane.js","webpack:///./lib/config.js","webpack:///./lib/map.js","webpack:///./lib/communications.js","webpack:///./stores/SettingsStore.js","webpack:///./lib/lz-string.js","webpack:///./lib/persistance.js","webpack:///./stores/GameStore.js","webpack:///./components/Settings/Settings.js","webpack:///./components/WayPoints/WayPoints.js","webpack:///./node_modules/preact-compat/dist/preact-compat.es.js","webpack:///./components/Airport/Airport.js","webpack:///./components/BackgroundSvg/BackgroundSvg.js","webpack:///./components/GameMetaControls/GameMetaControls.js","webpack:///./containers/AtcView/AtcView.js","webpack:///./containers/Game/Game.js","webpack:///./components/SavedGamesOpen/SavedGamesOpen.js","webpack:///./containers/Home/Home.js","webpack:///./index.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/milligram/dist/milligram.css","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/warning/warning.js","webpack:///./node_modules/resolve-pathname/index.js","webpack:///./node_modules/invariant/invariant.js","webpack:///./node_modules/fbjs/lib/invariant.js","webpack:///./node_modules/fbjs/lib/emptyFunction.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/history/createHashHistory.js","webpack:///./components/GameMetaControls/GameMetaControls.css","webpack:///./node_modules/history/createTransitionManager.js","webpack:///./containers/AtcView/AtcView.css","webpack:///./node_modules/history/LocationUtils.js","webpack:///./components/Settings/Settings.css","webpack:///./node_modules/history/DOMUtils.js"],"names":["e","t","n","o","r","i","l","a","E","arguments","length","W","push","children","pop","u","nodeName","attributes","key","S","vnode","slice","call","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","defaultProps","_","document","createElementNS","createElement","p","parentNode","removeChild","c","style","cssText","V","test","innerHTML","__html","replace","substring","addEventListener","f","removeEventListener","__l","s","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","type","event","d","D","afterMount","componentDidMount","h","H","R","ownerSVGElement","j","m","appendChild","_component","nodeValue","createTextNode","replaceChild","b","__preactattr_","U","firstChild","name","value","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","y","w","C","x","N","__k","trim","insertBefore","L","ref","lastChild","previousSibling","constructor","I","prototype","render","T","__b","splice","__x","__r","base","componentWillMount","componentWillReceiveProps","context","__c","__p","props","syncComponentUpdates","state","__s","shouldComponentUpdate","componentWillUpdate","getChildContext","M","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","componentWillUnmount","Promise","resolve","then","bind","setTimeout","setState","forceUpdate","$","cloneElement","Component","rerender","options","module","exports","self","preact","_typeof","Symbol","iterator","obj","valueEqual","Array","isArray","every","item","index","aType","bType","aValue","valueOf","bValue","aKeys","Object","keys","bKeys","__esModule","addLeadingSlash","path","charAt","stripLeadingSlash","substr","hasBasename","prefix","RegExp","stripBasename","stripTrailingSlash","parsePath","pathname","search","hash","hashIndex","indexOf","searchIndex","createPath","location","EMPTY$1","exec","url","route","opts","reg","match","matches","ret","split","decodeURIComponent","join","segmentize","max","Math","i$1","param","flags","plus","star","val","map","default","pathRankSort","rank","prepareVNodeForRanking","rankChild","rankSegment","segment","customHistory","ROUTERS","subscribers","EMPTY","isPreactElement","node","for","setUrl","history","getCurrentUrl","getCurrentLocation","canRoute","routeTo","didRoute","routeFromLink","getAttribute","href","target","handleLinkClick","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","ctrlKey","metaKey","altKey","shiftKey","String","toUpperCase","hasAttribute","eventListenersInitialized","initEventListeners","Router","Component$$1","__proto__","create","static","onChange","getMatchingChildren","_didRoute","updating","this$1","unlisten","listen","invoke","filter","sort","newProps","assign","Boolean","ref$1","active","current","previous","previousUrl","router","Link","onClick","Route","component","routeTypes","INBOUND","OUTBOUND","ENROUTE","airplanes","id","ceiling","shortName","topSpeed","landingSpeed","minSpeed","turningRate","operators","callsign","color","airplanesById","operatorsById","counter","flightNums","random","speed","altitude","heading","operatorId","flight","typeId","routeType","tgtAltitude","tgtDirection","tgtSpeed","airplane","floor","altitudeThousands","Airplane","createOutbound","rwy","outboundWaypoint","outboundRwy","headingInitVariation","globalSpeed","baseAirplaneSpeed","updateInterval","headingIndicatorLineLen","pathCounterUpdateEvery","maxPathLen","rwyLenScale","ilsSlopeSteepness","threeMileRuleDistance","idType","WAYPOINT","AIRPORT","RWY","loadMap","maps","waypoints","forEach","airport","runways","headingTo","x1","y1","x2","y2","atan2","PI","angleDistance","a0","a1","da","activeRwys","winddir","ru","rwyusage","dir","rwys","rwyPos","width","height","multiplier","ignoreLen","len","config","dx1","sin","hdg1","dy1","cos","dx2","hdg2","dy2","landableRwys","deg1","deg2","abs","rev","outboundWaypoints","inboundWaypoints","EVKOS","QEDOS","KTDOS","EKOS","EDOS","ELROS","EBOS","ESOS","ELOS","EZOS","EDROS","KOS","PLM","DAVOT","LAIKA","RUNAW","EH11","EH13","EH26","EH9","routes","size","name1","name2","heatrow","BLC","WOD","BENSU","BUR","FRK","FOS","OCK","EPM","BIG","LCY","LAM","GOXUL","FINCH","CHT","D175F","EGWU","RICHY","BARNS","WINSR","MARLO","schiphol","NV","CH","EKROS","BASNO","EH040","EH610","SPY","OA","LILSI","PAM","OMORU","IVLET","SUSET","TULIP","EH639","EH633","EH635","EH126","EH642","EH047","EH626","EH616","EH654","mapNames","hasOwnProperty","synth","window","speechSynthesis","getVoices","voice","pitch","rate","getCommandText","cmd","windspd","tgt","txt","takeoff","direction","tHdg","hdg","tAlt","round","speak","utterThis","SpeechSynthesisUtterance","onerror","console","warn","speechsynthesis","speechrecognition","voices","Communications","distanceCircles","distanceCirclesDistance","distanceCirclesAmount","distanceCircleColor","ilsPathLength","ilsPathColor","ilsDashInterval","sepVialationCircleColor","newPlaneInterval","startingInboundPlanes","startingOutboundPlanes","changePitch","changeRate","changeVoice","handleVoicesChange","undefined","emit","setSpeed","fromCharCode","LZString","compress","uncompressed","_compress","bitsPerChar","getCharFromInt","context_dictionary","context_dictionaryToCreate","context_c","context_wc","context_w","context_enlargeIn","context_dictSize","context_numBits","context_data","context_data_val","context_data_position","ii","charCodeAt","pow","decompress","compressed","_decompress","resetValue","getNextValue","dictionary","next","enlargeIn","dictSize","numBits","entry","result","bits","resb","maxpower","power","data","position","loadState","localStorage","getItem","json","JSON","parse","games","saveState","str","stringify","toFixed","setItem","traffic","paused","started","interval","log","selfLog","pathCounter","callsigns","callsignsPos","_remove","mapName","update","_newPlane","startMap","arrivals","departures","enroutes","unpermittedDepartures","distanceVialations","_setup","SettingsStore","_newPlaneInboundOnRoute","_newPlaneOutbound","startSaved","saveName","game","loadJson","_edgeDetection","sepDistanceVialotions","_setupWaypoints","rwyRelPos","mult","airportX","airportY","pos","setInterval","newTrafficInterval","inboundWpOrdered","outboundWpOrdered","enrouteRoutesOrdered","inboundWp","outboundWp","inboundWaypoint","mx","my","_newPlaneInboundOnEdge","hdgVar","side","activeRunways","sepDistViolation","addPathEntry","dx","dy","altChange","min","tgtHeading","cs","rwyHdg","hdgToRwy","deg","distance","rwyAirplaneHdgDiff","tooHigh","isFinite","wp","identity","sameIdentity","oa","xd","yd","stop","clearInterval","pause","resume","addLog","msg","toJson","persistanceProps","setSvgEl","el","svgEl","difficulty","handleSpeechRecognitionSettingChange","handleSpeechSynthesisSettingChange","handlePitchChange","handleRateChange","handleSpeechVoiceChange","handleSettingsStoreChange","handleSpeedChange","handleDifficultyChange","handleIlsPathColorChange","handleDistanceCircleColor","on","removeListener","checked","handleSepVialotionCircleColor","handleDistanceCircleChange","lang","GameStore","handleGameStoreStart","waypointsJsx","waypoint","version","ELEMENTS","REACT_ELEMENT_TYPE","COMPONENT_WRAPPER_KEY","AUTOBIND_BLACKLIST","componentDidUnmount","CAMEL_PROPS","BYPASS_HOOK","DEV","process","env","EmptyComponent","VNode","$$typeof","preactCompatUpgraded","preactCompatNormalized","defineProperty","get","set","configurable","oldEventHook","persist","nativeEvent","oldVnodeHook","tag","attrs","extend","normalizeVNode","handleComponentVNode","defaultValue","handleElementVNode","shouldSanitize","render$1","parent","callback","prev","_preactCompatRendered","firstElementChild","out","ContextProvider","renderSubtreeIntoContainer","parentComponent","container","wrap","renderContainer","unmountComponentAtNode","existing","ARR","Children","fn","ctx","toArray","count","only","Error","concat","currentComponent","createFactory","DOM","upgradeToVNodes","arr","offset","isValidElement","isStatelessComponent","wrapStatelessComponent","WrappedComponent","createClass","displayName","statelessComponentHook","Ctor","Wrapped","propTypes","args","apply","applyClassName","createStringRefProxy","applyEventNormalization","cloneElement$1","element","elementProps","cloneArgs","_refProxies","resolved","refs","ondoubleclick","ondblclick","onchange","normalized","oninput","multihook","classNameDescriptor","enumerable","class","arguments$1","shallowDiffers","findDOMNode","F","cl","bindAll","Component$1","newComponentHook","mixins","applyMixins","collateMixins","statics","getDefaultProps","keyed","mixin","proto","__bound","callMethod","hooks","skipDuplicates","propsHook","beforeRender","afterRender","ctor","PropTypes","checkPropTypes","getInitialState","isReactComponent","replaceState","getDOMNode","isMounted","PureComponent","isPureReactComponent","unstable_renderSubtreeIntoContainer","__spread","renderRwy","ilsx1","ilsy1","ilsx2","ilsy2","airportJsx","distanceCirlces","nextProps","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","handleGameStoreChange","handlePauseResumeButtonClick","handleScreenShotButtonClick","handleSaveButtonClick","getElementsByTagName","source","outerHTML","btoa","prompt","Date","toLocaleDateString","alert","gameWidth","gameHeight","settingsExpanded","handleAltitudeTgtChange","handleHeadingTgtChange","handleSpeedTgtChange","handleCmdExecution","handleCmdExecutionDebounced","debounce","handleSVGClick","handleTrafficStackClick","handleAirplaneClick","handleDirectToTgtChange","handleTakeoffClick","handleExpandSettingsButtonClick","dtcToDataListId","toString","delta","model","cmdTxt","prevstate","tagName","classList","contains","renderTraffic","spd","getSpdJsx","alt","getAltJsx","ltx","lty","violatingSep","renderTrafficStack","renderTrafficControl","landableRwysArr","lr","trafficstack","trafficcontrol","innerWidth","innerHeight","func","delay","inDebounce","clearTimeout","TagName","getAltFmtJSx","setRoot","root","handleSavedGamesOpenListItemClick","handleSavedGameOpenListItemTrash","force","confirm","list","mapname","handleMapSelectionChange","handleStartClick","handleReturnToGame","upcase","createHashHistory","object","throwOnDirectAccess","require","emptyFunction","invariant","ReactPropTypesSecret","shim","propName","componentName","propFullName","secret","isRequired","getShim","ReactPropTypes","array","bool","number","string","symbol","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","exact","__DEV__","warning","condition","format","argIndex","message","error","isAbsolute","spliceOne","resolvePathname","to","from","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","last","up","part","NODE_ENV","framesToPop","validateFormat","makeEmptyFunction","arg","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","_extends","_warning","_warning2","_interopRequireDefault","_invariant","_invariant2","_LocationUtils","_PathUtils","_createTransitionManager","_createTransitionManager2","_DOMUtils","HashChangeEvent","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","getHashPath","pushHashPath","replaceHashPath","canUseDOM","globalHistory","canGoWithoutReload","supportsGoWithoutReloadUsingHash","_props$getUserConfirm","getUserConfirmation","getConfirmation","_props$hashType","hashType","basename","_HashPathCoders$hashT","getDOMLocation","createLocation","transitionManager","nextState","notifyListeners","action","forceNextPop","ignorePath","handleHashChange","encodedPath","prevLocation","locationsAreEqual","handlePop","confirmTransitionTo","ok","revertPop","fromLocation","toLocation","toIndex","allPaths","lastIndexOf","fromIndex","go","initialLocation","createHref","hashChanged","prevIndex","nextPaths","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","setPrompt","listener","appendListener","createTransitionManager","nextPrompt","listeners","isActive","_len","_key","_resolvePathname","_resolvePathname2","_valueEqual","_valueEqual2","currentLocation","decodeURI","URIError","attachEvent","detachEvent","supportsHistory","ua","navigator","userAgent","supportsPopStateOnHashChange","isExtraneousPopstateEvent"],"mappings":"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","file":"ssr-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"JkW7\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f80c797c79c41aafae6e","// removed by extract-text-webpack-plugin\nmodule.exports = {\"WayPoints\":\"WayPoints__5Srsb\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/WayPoints/WayPoints.css\n// module id = 1t2z\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"Airport\":\"Airport__3P59_\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Airport/Airport.css\n// module id = 4TN0\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"BackgroundSvg\":\"BackgroundSvg__2wFPq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/BackgroundSvg/BackgroundSvg.css\n// module id = 9GBv\n// module chunks = 0","!function(){\"use strict\";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);while(W.length)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else\"boolean\"==typeof r&&(r=null),(i=\"function\"!=typeof t)&&(null==r?r=\"\":\"number\"==typeof r?r+=\"\":\"string\"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(u),u}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(S.debounceRendering||P)(i)}function i(){var e,t=A;A=[];while(e=t.pop())e.__d&&k(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function _(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===V.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)s(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){var e;while(e=D.pop())S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!(\"__preactattr_\"in e));var l=m(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(j=!1,i||d()),l}function m(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return U(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=_(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var p=i.firstChild,c=i.__preactattr_,s=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&s&&1===s.length&&\"string\"==typeof s[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=s[0]&&(p.nodeValue=s[0]):(s&&s.length||null!=p)&&v(i,s,n,o,j||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),R=l,i}function v(e,t,n,o,r){var i,a,u,_,c,s=e.childNodes,f=[],d={},h=0,v=0,y=s.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=s[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(h++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){_=t[C],c=null;var k=_.key;if(null!=k)h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&v<g)for(i=v;i<g;i++)if(void 0!==f[i]&&l(a=f[i],_,r)){c=a,f[i]=void 0,i===g-1&&g--,i===v&&v++;break}c=m(c,_,n,o),u=s[C],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?p(u):e.insertBefore(c,u))}if(h)for(var C in d)void 0!==d[C]&&b(d[C],!1);while(v<=g)void 0!==(c=f[g--])&&b(c,!1)}function b(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),y(e))}function y(e){e=e.lastChild;while(e){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||c(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||c(e,o,n[o],n[o]=t[o],R)}function w(e){var t=e.constructor.name;(I[t]||(I[t]=[])).push(e)}function C(e,t,n){var o,r=I[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),T.call(o,t,n)):(o=new T(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,_=e.props,p=e.state,c=e.context,s=e.__p||_,f=e.__s||p,m=e.__c||c,v=e.base,y=e.__b,g=v||y,w=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(_,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(_,p,c),e.props=_,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(_,p,c),e.getChildContext&&(c=n(n({},c),e.getChildContext()));var U,T,M=i&&i.nodeName;if(\"function\"==typeof M){var W=u(i);l=w,l&&l.constructor===M&&W.key==l.__k?N(l,W,1,c,!1):(U=l,e._component=l=C(M,W,c),l.__b=l.__b||y,l.__u=e,N(l,W,0,c,!1),k(l,1,o,!0)),T=l.base}else a=g,U=w,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),T=h(a,i,c,o||!v,g&&g.parentNode,!0));if(g&&T!==g&&l!==w){var E=g.parentNode;E&&T!==E&&(E.replaceChild(T,g),U||(g._component=null,b(g,!1)))}if(U&&L(U),e.base=T,T&&!r){var P=e,V=e;while(V=V.__u)(P=V).base=T;T._component=P,T._componentConstructor=P.constructor}}if(!v||o?D.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(s,f,m),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)while(e.__h.length)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,_=a,p=u(t);while(r&&!_&&(r=r.__u))_=r.constructor===t.nodeName;return r&&_&&(!o||r._component)?(N(r,p,3,n,o),e=r.base):(i&&!a&&(L(i),e=l=null),r=C(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),N(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function L(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,p(t),w(e),y(t)),e.__r&&e.__r(null)}function T(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function M(e,t,n){return h(n,e,{},!1,t,!1)}var S={},W=[],E=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,R=!1,j=!1,I={};n(T.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,\"function\"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var $={h:t,createElement:t,cloneElement:o,Component:T,render:M,rerender:i,options:S};\"undefined\"!=typeof module?module.exports=$:self.preact=$}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/preact/dist/preact.min.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./containers/Game/Game.css\n// module id = EmRd\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./containers/Home/Home.css\n// module id = FEkH\n// module chunks = 0","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/value-equal/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./style.css\n// module id = FWi5\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = FpCL\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar hasBasename = exports.hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nvar stripBasename = exports.stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/history/PathUtils.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"SavedGamesOpen\":\"SavedGamesOpen__2FH8V\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SavedGamesOpen/SavedGamesOpen.css\n// module id = JBOx\n// module chunks = 0","import { Component, cloneElement, h } from 'preact';\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^\\:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t(a.rank > b.rank) ? -1 :\n\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nfunction prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.attributes;\n}\n\nfunction segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nfunction rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nfunction rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.attributes.default ? 0 : rank(vnode.attributes.path);\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction isPreactElement(node) {\n\treturn node.__preactattr_!=null || typeof Symbol!=='undefined' && node[Symbol.for('preactattr')]!=null;\n}\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href') && isPreactElement(t)) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) { return; }\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\treturn this.getMatchingChildren(this.props.children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis._didRoute = false;\n\t\tthis.setState({ url: url });\n\n\t\t// if we're in the middle of an update, don't synchronously re-route.\n\t\tif (this.updating) { return this.canRoute(url); }\n\n\t\tthis.forceUpdate();\n\t\treturn this._didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( function (vnode) {\n\t\t\t\tvar matches = exec(url, vnode.attributes.path, vnode.attributes);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(children, url, true);\n\n\t\tvar current = active[0] || null;\n\t\tthis._didRoute = !!current;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(Component));\n\nvar Link = function (props) { return (\n\th('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return h(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link };export default Router;\n//# sourceMappingURL=preact-router.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/preact-router/dist/preact-router.es.js","export const routeTypes = {\r\n  INBOUND: 0,\r\n  OUTBOUND: 1,\r\n  ENROUTE: 2,\r\n  0: 'inbound',\r\n  1: 'outbound',\r\n  2: 'enroute',\r\n}\r\n\r\nexport const airplanes = [\r\n  {\r\n    id: 0,\r\n    ceiling: 37,\r\n    name: 'Boeing 737',\r\n    shortName: 'B737',\r\n    topSpeed: 320,\r\n    landingSpeed: 140,\r\n    minSpeed: 160,\r\n    turningRate: [2, 3, 5],\r\n    operators: [0, 1, 2],\r\n  },\r\n  {\r\n    id: 1,\r\n    name: 'Boeing 747',\r\n    shortName: 'B747',\r\n    topSpeed: 330,\r\n    landingSpeed: 145,\r\n    minSpeed: 180,\r\n    turningRate: [2, 3, 4],\r\n    ceiling: 41,\r\n    operators: [0, 1, 2],\r\n  }\r\n];\r\n\r\nexport const operators = [\r\n  {\r\n    id: 0,\r\n    name: 'KLM',\r\n    shortName: 'KLM',\r\n    callsign: 'KLM',\r\n    color: '#00a1e4'\r\n  }, {\r\n    id: 1,\r\n    name: 'Delta Airlines',\r\n    callsign: 'DLT',\r\n    shortName: 'Delta',\r\n    color: '#003a70'\r\n  }, {\r\n    id: 2,\r\n    name: 'JetBlue',\r\n    callsign: 'JBU',\r\n    shortName: 'JetBlue',\r\n    color: '#003876'\r\n  }, {\r\n    id: 3,\r\n    name: 'United Airlines',\r\n    callsign: 'UAL',\r\n    shortName: 'United',\r\n    color: '#005DAA'\r\n  }\r\n];\r\n\r\nexport const airplanesById = Object.assign({}, ...airplanes.map(x => ({[x.id]: x})));\r\n\r\nexport const operatorsById = Object.assign({}, ...operators.map(x => ({[x.id]: x})));\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/airplane-library.js","import { airplanes, routeTypes } from './airplane-library';\r\n\r\nlet counter = 0;\r\nconst flightNums = [];\r\nfor (let i = 0; i < 1900; i++) flightNums[i] = i;\r\nflightNums.sort(() => Math.random() - .5);\r\n\r\nexport default class Airplane {\r\n  constructor(speed, altitude, heading, x, y, operatorId, flight, typeId, routeType) {\r\n    this.tgtAltitude = altitude;\r\n    this.tgtDirection = heading;\r\n    this.tgtSpeed = speed;\r\n    this.operatorId = operatorId;\r\n    this.speed = speed;\r\n    this.altitude = altitude;\r\n    this.heading = heading;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.flight = flight;\r\n    this.path = [];\r\n    this.typeId = typeId;\r\n    this.routeType = routeType;\r\n  }\r\n\r\n  static create(x, y, heading, routeType) {\r\n    let airplane = airplanes[Math.floor(Math.random() * airplanes.length)];\r\n    let operatorId = airplane.operators[Math.floor(Math.random() * airplane.operators.length)];\r\n    let speed = airplane.topSpeed;\r\n    let altitudeThousands = Math.floor(airplane.ceiling * .5 - Math.random() * airplane.ceiling * .2);\r\n    let altitude = ((altitudeThousands % 2 === 0) === (heading < 180) ? altitudeThousands - 1 : altitudeThousands) * 1000;\r\n    let flight = flightNums[counter++];\r\n    counter %= 1950;\r\n    let typeId = airplane.id;\r\n    return new Airplane(speed, altitude, heading, x, y, operatorId, flight, typeId, routeType);\r\n  }\r\n\r\n  static createOutbound(x, y, heading, rwy, outboundWaypoint) {\r\n    let airplane = Airplane.create(x, y, heading, routeTypes.OUTBOUND);\r\n    airplane.altitude = 0;\r\n    airplane.speed = 0;\r\n    airplane.outboundRwy = rwy;\r\n    airplane.outboundWaypoint = outboundWaypoint\r\n    return airplane;\r\n  }\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/airplane.js","export default {\r\n  headingInitVariation: 10,\r\n  globalSpeed: 1,\r\n  baseAirplaneSpeed: 0.001,\r\n  updateInterval: 300,\r\n  headingIndicatorLineLen: 20,\r\n  pathCounterUpdateEvery: 20,\r\n  maxPathLen: 10,\r\n  rwyLenScale: 0.0015,\r\n  ilsSlopeSteepness: 37.5,\r\n  threeMileRuleDistance: 15,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/config.js","import config from './config';\r\n\r\nexport const idType = {\r\n  WAYPOINT: 0,\r\n  AIRPORT: 1,\r\n  RWY: 2,\r\n}\r\n\r\nexport const loadMap = name => {\r\n  Object.keys(maps[name].waypoints).map(k => maps[name].waypoints[k]).forEach(w => w.type = idType.WAYPOINT);\r\n  maps[name].airport.type = idType.AIRPORT;\r\n  maps[name].airport.runways.forEach(rwy => rwy.type = idType.RWY)\r\n  return maps[name];\r\n};\r\n\r\nexport const headingTo = (x1, y1, x2, y2) => {\r\n  return (Math.atan2(x2 - x1, y2 - y1) * 180 / Math.PI + 360) % 360;\r\n};\r\n\r\nexport const angleDistance = (a0, a1) => {\r\n  var max = 360;\r\n  var da = (a1 - a0) % max;\r\n  return 2 * da % max - da;\r\n}\r\n\r\nexport const activeRwys = (airport, winddir) => {\r\n  const ru = airport.rwyusage;\r\n  for (let i = 0; i < ru.length; i++) {\r\n    if (winddir < ru[i].dir) {\r\n      let winddir = ru[(i + ru.length - 1) % ru.length];\r\n      return winddir.rwys;\r\n    }\r\n  }\r\n  return ru[ru.length - 1].rwys;\r\n}\r\n\r\nexport const rwyPos = (airport, rwy, width, height, multiplier = 1, ignoreLen) => {\r\n  const len = rwy.length * config.rwyLenScale;\r\n  const dx1 = Math.sin(rwy.hdg1 * Math.PI / 180) * (!ignoreLen ? -len : -1) * multiplier;\r\n  const dy1 = Math.cos(rwy.hdg1 * Math.PI / 180) * (!ignoreLen ? -len : -1) * multiplier;\r\n  const dx2 = Math.sin(rwy.hdg2 * Math.PI / 180) * (!ignoreLen ? -len : -1) * multiplier;\r\n  const dy2 = Math.cos(rwy.hdg2 * Math.PI / 180) * (!ignoreLen ? -len : -1) * multiplier;\r\n\r\n  const x1 = width / 2 + airport.x + rwy.x + dx1;\r\n  const y1 = height / 2 + airport.y + rwy.y + dy1;\r\n  const x2 = width / 2 + airport.x + rwy.x + dx2;\r\n  const y2 = height / 2 + airport.y + rwy.y + dy2;\r\n  return { x1, y1, x2, y2 };\r\n}\r\n\r\nexport const landableRwys = (airport, airplane, width, height) => {\r\n  const rwys = [];\r\n  for (let i = 0; i < airport.runways.length; i++) {\r\n    const rwy = airport.runways[i];\r\n    const len = rwy.length * config.rwyLenScale;\r\n    const dx1 = Math.sin(rwy.hdg1 * Math.PI / 180) * -len;\r\n    const dy1 = Math.cos(rwy.hdg1 * Math.PI / 180) * -len;\r\n    const dx2 = Math.sin(rwy.hdg2 * Math.PI / 180) * -len;\r\n    const dy2 = Math.cos(rwy.hdg2 * Math.PI / 180) * -len;\r\n\r\n    const x1 = width / 2 + airport.x + rwy.x + dx1;\r\n    const y1 = height / 2 + airport.y + rwy.y + dy1;\r\n    const x2 = width / 2 + airport.x + rwy.x + dx2;\r\n    const y2 = height / 2 + airport.y + rwy.y + dy2;\r\n\r\n    const deg1 = (Math.atan2(x1 - airplane.x, y1 - airplane.y) * 180 / Math.PI + 360) % 360;\r\n    const deg2 = (Math.atan2(x2 - airplane.x, y2 - airplane.y) * 180 / Math.PI + 360) % 360;\r\n\r\n    if (Math.abs(angleDistance(rwy.hdg1, deg1)) < 20) {\r\n      rwys.push({ rwy, rev: false });\r\n    } else if (Math.abs(angleDistance(rwy.hdg2, deg2)) < 20) {\r\n      rwys.push({ rwy, rev: true });\r\n    }\r\n  }\r\n  return rwys;\r\n};\r\n\r\nconst maps = {\r\n  default: {\r\n    name: 'default',\r\n    outboundWaypoints: ['LAIKA', 'PLM', 'DAVOT', 'EZOS', 'EDOS'],\r\n    inboundWaypoints: ['EVKOS', 'ELROS', 'KTDOS', 'QEDOS'],\r\n    waypoints: {\r\n      EVKOS: { x: 0, y: 360 },\r\n      QEDOS: { x: 1280, y: 400 },\r\n      KTDOS: { x: 250, y: 0 },\r\n      EKOS: { x: 20, y: 20 },\r\n      EDOS: { x: 0, y: 720 },\r\n      ELROS: { x: 1280, y: 720 },\r\n      EBOS: { x: 100, y: 600 },\r\n      ESOS: { x: 1200, y: 90 },\r\n      ELOS: { x: 220, y: 200 },\r\n      EZOS: { x: 1280, y: 0 },\r\n      EDROS: { x: 290, y: 820 },\r\n      KOS: { x: 80, y: 90 },\r\n      PLM: { x: 1280, y: 70 },\r\n      DAVOT: { x: 0, y: 90 },\r\n      LAIKA: { x: 900, y: 0 },\r\n      RUNAW: { x: 30, y: 20 },\r\n      EH11: { x: 623.268587103299, y: 111.60881397780415 },\r\n      EH13: { x: 666.731412896701, y: 608.3911860221958 },\r\n      EH26: { x: 635.2208641964845, y: 248.22396629001187 },\r\n      EH9: { x: 659.1254183828556, y: 521.4542709144273 },\r\n    },\r\n    routes: {\r\n      // oubound\r\n      '18->LAIKA': '18->EH26->LAIKA/${CRZ}',\r\n      '36->LAIKA': '36->EH9->LAIKA/${CRZ}',\r\n      '18->PLM': '36->EH9->PLM/${CRZ}',\r\n      '36->PLM': '36->EH9->PLM/${CRZ}',\r\n      '18->EZOS': '36->EH9->EZOS/${CRZ}',\r\n      '36->EZOS': '36->EH9->EZOS/${CRZ}',\r\n      '18->DAVOT': '36->EH9->DAVOT/${CRZ}',\r\n      '36->DAVOT': '36->EH9->DAVOT/${CRZ}',\r\n      '18->EDOS': '36->EH9->EDOS/${CRZ}',\r\n      '36->EDOS': '36->EH9->EDOS/${CRZ}',\r\n      // inbound\r\n      'LAIKA->18': 'LAIKA->EH9/3000->18',\r\n      'LAIKA->36': 'LAIKA->EH26/3000->36',\r\n      'PLM->18': 'PLM->EH9/3000->18',\r\n      'PLM->36': 'PLM->EH26/3000->36',\r\n      'EZOS->18': 'EZOS->EH9/3000->18',\r\n      'EZOS->36': 'EZOS->EH26/3000->36',\r\n      'DAVOT->18': 'DAVOT->EH9/3000->18',\r\n      'DAVOT->36': 'DAVOT->EH26/3000->36',\r\n      // enroute\r\n      'EVKOS->PLM': 'EVKOS->EHZM->PLM',\r\n      'QEDOS->EDOS': 'QEDOS->EHZM->EDOS',\r\n    },\r\n    airport: {\r\n\r\n      rwyusage: [\r\n        { dir: 95, rwys: ['18'] },\r\n        { dir: 275, rwys: ['36'] },\r\n      ],\r\n      callsign: 'EHZM',\r\n      x: 0,\r\n      y: 0,\r\n      runways: [\r\n        {\r\n          x: 5,\r\n          y: 0,\r\n          length: 12467,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 5,\r\n          hdg2: 185,\r\n          name1: '36',\r\n          name2: '18',\r\n        }\r\n      ],\r\n    }\r\n  },\r\n  heatrow: {\r\n    name: 'heatrow',\r\n    outboundWaypoints: ['FOS', 'BIG', 'LAM'],\r\n    inboundWaypoints: ['BLC', 'BENSU', 'EPM', 'LCY'],\r\n    waypoints: {\r\n      BLC: { x: 40, y: 0 },\r\n      WOD: { x: 0, y: 400 },\r\n      BENSU: { x: 0, y: 600 },\r\n      BUR: { x: 100, y: 500 },\r\n      FRK: { x: 550, y: 20 },\r\n      FOS: { x: 580, y: 0 },\r\n      OCK: { x: 640, y: 0 },\r\n      EPM: { x: 730, y: 0 },\r\n      BIG: { x: 1280, y: 0 },\r\n      LCY: { x: 1280, y: 360 },\r\n      LAM: { x: 1280, y: 720 },\r\n      GOXUL: { x: 900, y: 90 },\r\n      FINCH: { x: 880, y: 800 },\r\n      CHT: { x: 600, y: 1050 },\r\n      D175F: { x: 680, y: 220 },\r\n      EGWU: { x: 690, y: 960 },\r\n      RICHY: { x: 939.9543085469174, y: 344.7642780688151 },\r\n      BARNS: { x: 939.9543085469174, y: 364.7642780688151 },\r\n      WINSR: { x: 340.0456914530826, y: 355.235721931185 },\r\n      MARLO: { x: 340.0456914530826, y: 375.235721931185 },\r\n      '40LO2': { x: 490.0228457265413, y: 352.6178609655925 },\r\n      '40LOC': { x: 490.0228457265413, y: 372.6178609655925 },\r\n      '40LO3': { x: 789.9771542734587, y: 347.38213903440754 }\r\n\r\n    },\r\n    routes: {\r\n\r\n    },\r\n    airport: {\r\n      rwyusage: [\r\n        { dir: 1, rwys: ['09L', '09R'] },\r\n        { dir: 181, rwys: ['27L', '27R'] },\r\n      ],\r\n      callsign: 'EGLL',\r\n      x: 0,\r\n      y: 0,\r\n      runways: [\r\n        {\r\n          x: 0,\r\n          y: -10,\r\n          length: 12802,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 91,\r\n          hdg2: 271,\r\n          name1: '09L',\r\n          name2: '27R',\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 10,\r\n          length: 12008,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 91,\r\n          hdg2: 271,\r\n          name1: '09R',\r\n          name2: '27L',\r\n        }\r\n      ],\r\n    },\r\n  },\r\n  schiphol: {\r\n    name: 'schiphol',\r\n    outboundWaypoints: ['EH610', 'SPY', 'OMORU', 'TULIP'],\r\n    inboundWaypoints: ['EH040', 'LILSI', 'IVLET', 'SUSET'],\r\n    waypoints: {\r\n      NV: { x: 670, y: 0 },\r\n      CH: { x: 400, y: 100 },\r\n      EKROS: { x: 500, y: 150 },\r\n      BASNO: { x: 410, y: 390 },\r\n      EH040: { x: 300, y: 100 },\r\n      EH610: { x: 0, y: 100 },\r\n      SPY: { x: 400, y: 720 },\r\n      OA: { x: 640, y: 550 },\r\n      LILSI: { x: 1280, y: 600 },\r\n      PAM: { x: 600, y: 360 },\r\n      OMORU: { x: 1280, y: 360 },\r\n      IVLET: { x: 1280, y: 200 },\r\n      SUSET: { x: 1100, y: 0 },\r\n      TULIP: { x: 0, y: 640 },\r\n      EH639: { x: 794.794430213186, y: 387.85039343644166 },\r\n      EH633: { x: 605.3459322519757, y: 80.38373026871932 },\r\n      EH635: { x: 645.3459322519757, y: 73.38373026871932 },\r\n      EH126: { x: 585.3459322519757, y: 100.38373026871932 },\r\n      EH642: { x: 365.3837302687193, y: 365.3459322519757 },\r\n      EH047: { x: 611.5139103734476, y: 599.6984976460062 },\r\n      EH626: { x: 634.6540677480242, y: 639.6162697312807 },\r\n      EH616: { x: 404.5465330762007, y: 201.62260601470263 },\r\n      EH654: { x: 879.4534669237993, y: 498.37739398529743 },\r\n      \r\n    },\r\n    routes: {\r\n\r\n    },\r\n    airport: {\r\n      rwyusage: [\r\n        { dir: 45, rwys: ['09'] },\r\n        { dir: 135, rwys: ['36L', '36C'] },\r\n        { dir: 220, rwys: ['24', '27'] },\r\n        { dir: 330, rwys: ['18L', '36R'] },\r\n      ],\r\n      callsign: 'EHAM',\r\n      x: 0,\r\n      y: 0,\r\n      runways: [\r\n\r\n        {\r\n          x: -40,\r\n          y: 20,\r\n          length: 12468,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 3,\r\n          hdg2: 183,\r\n          name1: '36L',\r\n          name2: '18R',\r\n        },\r\n        {\r\n          x: 2,\r\n          y: -10,\r\n          length: 11483,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 58,\r\n          hdg2: 238,\r\n          name1: '06',\r\n          name2: '24',\r\n        },\r\n        {\r\n          x: 5,\r\n          y: 20,\r\n          length: 11329,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 87,\r\n          hdg2: 267,\r\n          name1: '09',\r\n          name2: '27',\r\n        },\r\n        {\r\n          x: 20,\r\n          y: -7,\r\n          length: 11155,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 3,\r\n          hdg2: 183,\r\n          name1: '36R',\r\n          name2: '18L',\r\n        },\r\n        {\r\n          x: -20,\r\n          y: 0,\r\n          length: 10827,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 3,\r\n          hdg2: 183,\r\n          name1: '36C',\r\n          name2: '18C',\r\n        },\r\n        {\r\n          x: 35,\r\n          y: -5,\r\n          length: 10827,\r\n          type: 'asphalt', // EXPERMINTAL / WIP\r\n          size: 2, // EXPERMINTAL / WIP\r\n          hdg1: 41,\r\n          hdg2: 221,\r\n          name1: '04',\r\n          name2: '22',\r\n        }\r\n      ],\r\n    }\r\n  }\r\n}\r\n\r\nexport const mapNames = [];\r\nfor (const key in maps) {\r\n  if (maps.hasOwnProperty(key)) {\r\n    mapNames.push(key);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/map.js","import { EventEmitter } from \"events\";\r\nimport { airplanesById, operatorsById } from \"./airplane-library\";\r\n\r\nclass Communications extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    this.synth = typeof window !== 'undefined' ? window.speechSynthesis : { addEventListener: () => { }, getVoices: () => [] };\r\n    this.voice = this.synth.getVoices()[0];\r\n    this.pitch = 1;\r\n    this.rate = 1;\r\n  }\r\n\r\n  getCommandText(cmd, winddir, windspd) {\r\n    const airplane = cmd.tgt;\r\n    let txt = [operatorsById[airplane.operatorId].callsign + airplane.flight];\r\n    if (cmd.takeoff && cmd.tgt.outboundRwy) {\r\n      txt.push(`takeoff runway ${cmd.tgt.outboundRwy}, the wind is ${winddir} at ${windspd} knots`);\r\n    }\r\n    if (cmd.direction) {\r\n      if (cmd.direction !== cmd.tgt.tgtDirection)\r\n        txt.push(`direct to ${cmd.direction}`);\r\n    }\r\n    else if (typeof cmd.heading === 'number' && cmd.heading !== cmd.tgt.tgtDirection) {\r\n      const tHdg = cmd.heading;\r\n      const hdg = airplane.heading;\r\n\r\n      txt.push((tHdg - hdg) < -(hdg - tHdg)\r\n        ? `turn left heading ${tHdg}`\r\n        : `turn right heading ${tHdg}`);\r\n    }\r\n    if (cmd.altitude && cmd.altitude !== cmd.tgt.tgtAltitude) {\r\n      const tAlt = cmd.altitude > 18000\r\n        ? `flight level ${Math.round(cmd.altitude / 100)} `\r\n        : `${cmd.altitude} feet `\r\n      txt.push(cmd.altitude < airplane.altitude\r\n        ? `descend and maintain ${tAlt}`\r\n        : `climb and maintain ${tAlt}`);\r\n    }\r\n    if (cmd.speed && cmd.speed !== cmd.tgt.tgtSpeed) {\r\n      txt.push(cmd.speed < airplane.speed\r\n        ? `slow down to ${cmd.speed} knots`\r\n        : `increase your airspeed to ${cmd.speed} knots`);\r\n    }\r\n\r\n    if (txt.length > 2) txt.splice(txt.length - 1, 0, 'and');\r\n    txt = txt.join(' ');\r\n    txt += '.';\r\n    return txt;\r\n  }\r\n\r\n  speak(txt) {\r\n    var utterThis = new SpeechSynthesisUtterance(txt);\r\n    utterThis.voice = this.voice;\r\n    utterThis.pitch = this.pitch;\r\n    utterThis.rate = this.rate;\r\n    utterThis.onerror = console.warn;\r\n    this.synth.speak(utterThis);\r\n  }\r\n}\r\n\r\nexport default new Communications();\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/communications.js","import { EventEmitter } from 'events';\r\nimport Airplane from '../lib/airplane';\r\nimport config from '../lib/config';\r\nimport Communications from '../lib/communications';\r\n\r\nclass SettingsStore extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    this.speechsynthesis = false;\r\n    this.speechrecognition = false;\r\n    this.voices = Communications.synth.getVoices();\r\n    this.rate = Communications.rate;\r\n    this.voice = Communications.voice;\r\n    this.pitch = Communications.pitch;\r\n    this.speed = 1;\r\n    this.distanceCircles = true;\r\n    this.distanceCirclesDistance = 200;\r\n    this.distanceCirclesAmount = 5;\r\n    this.distanceCircleColor = '#009000';\r\n    this.ilsPathLength = 250;\r\n    this.ilsPathColor = '#ffffbb';\r\n    this.ilsDashInterval = [20, 30];\r\n    this.sepVialationCircleColor = '#ff0000';\r\n    this.newPlaneInterval = 100;\r\n    this.startingInboundPlanes = 3;\r\n    this.startingOutboundPlanes = 2;\r\n\r\n\r\n    this.changePitch = this.changePitch.bind(this);\r\n    this.changeRate = this.changeRate.bind(this);\r\n    this.changeVoice = this.changeVoice.bind(this);\r\n    this.handleVoicesChange = this.handleVoicesChange.bind(this);\r\n    Communications.synth.addEventListener('voiceschanged', this.handleVoicesChange);\r\n  }\r\n\r\n  handleVoicesChange() {\r\n    this.voices = Communications.synth.getVoices();\r\n    if (Communications.voice === undefined) {\r\n      this.voice = this.voices[0];\r\n      Communications.voice = this.voice;\r\n    }\r\n  }\r\n\r\n  changePitch(pitch) {\r\n    Communications.pitch = pitch;\r\n    this.pitch = pitch;\r\n    this.emit('change');\r\n  }\r\n\r\n  changeRate(rate) {\r\n    Communications.rate = rate;\r\n    this.rate = rate;\r\n    this.emit('change');\r\n  }\r\n\r\n  changeVoice(voice) {\r\n    Communications.voice = voice;\r\n    this.voice = voice;\r\n    this.emit('change');\r\n  }\r\n\r\n  setSpeed(speed) {\r\n    this.speed = speed;\r\n    this.emit('change');\r\n  }\r\n}\r\n\r\n\r\nexport default new SettingsStore();\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/SettingsStore.js","// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\r\n\r\nvar f = String.fromCharCode;\r\n\r\nvar LZString = {\r\n  compress: function (uncompressed) {\r\n    return LZString._compress(uncompressed, 16, function (a) { return f(a); });\r\n  },\r\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\r\n    if (uncompressed == null) return \"\";\r\n    var i, value,\r\n      context_dictionary = {},\r\n      context_dictionaryToCreate = {},\r\n      context_c = \"\",\r\n      context_wc = \"\",\r\n      context_w = \"\",\r\n      context_enlargeIn = 2, // Compensate for the first entry which should not count\r\n      context_dictSize = 3,\r\n      context_numBits = 2,\r\n      context_data = [],\r\n      context_data_val = 0,\r\n      context_data_position = 0,\r\n      ii;\r\n\r\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\r\n      context_c = uncompressed.charAt(ii);\r\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary, context_c)) {\r\n        context_dictionary[context_c] = context_dictSize++;\r\n        context_dictionaryToCreate[context_c] = true;\r\n      }\r\n\r\n      context_wc = context_w + context_c;\r\n      if (Object.prototype.hasOwnProperty.call(context_dictionary, context_wc)) {\r\n        context_w = context_wc;\r\n      } else {\r\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate, context_w)) {\r\n          if (context_w.charCodeAt(0) < 256) {\r\n            for (i = 0; i < context_numBits; i++) {\r\n              context_data_val = (context_data_val << 1);\r\n              if (context_data_position == bitsPerChar - 1) {\r\n                context_data_position = 0;\r\n                context_data.push(getCharFromInt(context_data_val));\r\n                context_data_val = 0;\r\n              } else {\r\n                context_data_position++;\r\n              }\r\n            }\r\n            value = context_w.charCodeAt(0);\r\n            for (i = 0; i < 8; i++) {\r\n              context_data_val = (context_data_val << 1) | (value & 1);\r\n              if (context_data_position == bitsPerChar - 1) {\r\n                context_data_position = 0;\r\n                context_data.push(getCharFromInt(context_data_val));\r\n                context_data_val = 0;\r\n              } else {\r\n                context_data_position++;\r\n              }\r\n              value = value >> 1;\r\n            }\r\n          } else {\r\n            value = 1;\r\n            for (i = 0; i < context_numBits; i++) {\r\n              context_data_val = (context_data_val << 1) | value;\r\n              if (context_data_position == bitsPerChar - 1) {\r\n                context_data_position = 0;\r\n                context_data.push(getCharFromInt(context_data_val));\r\n                context_data_val = 0;\r\n              } else {\r\n                context_data_position++;\r\n              }\r\n              value = 0;\r\n            }\r\n            value = context_w.charCodeAt(0);\r\n            for (i = 0; i < 16; i++) {\r\n              context_data_val = (context_data_val << 1) | (value & 1);\r\n              if (context_data_position == bitsPerChar - 1) {\r\n                context_data_position = 0;\r\n                context_data.push(getCharFromInt(context_data_val));\r\n                context_data_val = 0;\r\n              } else {\r\n                context_data_position++;\r\n              }\r\n              value = value >> 1;\r\n            }\r\n          }\r\n          context_enlargeIn--;\r\n          if (context_enlargeIn == 0) {\r\n            context_enlargeIn = Math.pow(2, context_numBits);\r\n            context_numBits++;\r\n          }\r\n          delete context_dictionaryToCreate[context_w];\r\n        } else {\r\n          value = context_dictionary[context_w];\r\n          for (i = 0; i < context_numBits; i++) {\r\n            context_data_val = (context_data_val << 1) | (value & 1);\r\n            if (context_data_position == bitsPerChar - 1) {\r\n              context_data_position = 0;\r\n              context_data.push(getCharFromInt(context_data_val));\r\n              context_data_val = 0;\r\n            } else {\r\n              context_data_position++;\r\n            }\r\n            value = value >> 1;\r\n          }\r\n\r\n\r\n        }\r\n        context_enlargeIn--;\r\n        if (context_enlargeIn == 0) {\r\n          context_enlargeIn = Math.pow(2, context_numBits);\r\n          context_numBits++;\r\n        }\r\n        // Add wc to the dictionary.\r\n        context_dictionary[context_wc] = context_dictSize++;\r\n        context_w = String(context_c);\r\n      }\r\n    }\r\n\r\n    // Output the code for w.\r\n    if (context_w !== \"\") {\r\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate, context_w)) {\r\n        if (context_w.charCodeAt(0) < 256) {\r\n          for (i = 0; i < context_numBits; i++) {\r\n            context_data_val = (context_data_val << 1);\r\n            if (context_data_position == bitsPerChar - 1) {\r\n              context_data_position = 0;\r\n              context_data.push(getCharFromInt(context_data_val));\r\n              context_data_val = 0;\r\n            } else {\r\n              context_data_position++;\r\n            }\r\n          }\r\n          value = context_w.charCodeAt(0);\r\n          for (i = 0; i < 8; i++) {\r\n            context_data_val = (context_data_val << 1) | (value & 1);\r\n            if (context_data_position == bitsPerChar - 1) {\r\n              context_data_position = 0;\r\n              context_data.push(getCharFromInt(context_data_val));\r\n              context_data_val = 0;\r\n            } else {\r\n              context_data_position++;\r\n            }\r\n            value = value >> 1;\r\n          }\r\n        } else {\r\n          value = 1;\r\n          for (i = 0; i < context_numBits; i++) {\r\n            context_data_val = (context_data_val << 1) | value;\r\n            if (context_data_position == bitsPerChar - 1) {\r\n              context_data_position = 0;\r\n              context_data.push(getCharFromInt(context_data_val));\r\n              context_data_val = 0;\r\n            } else {\r\n              context_data_position++;\r\n            }\r\n            value = 0;\r\n          }\r\n          value = context_w.charCodeAt(0);\r\n          for (i = 0; i < 16; i++) {\r\n            context_data_val = (context_data_val << 1) | (value & 1);\r\n            if (context_data_position == bitsPerChar - 1) {\r\n              context_data_position = 0;\r\n              context_data.push(getCharFromInt(context_data_val));\r\n              context_data_val = 0;\r\n            } else {\r\n              context_data_position++;\r\n            }\r\n            value = value >> 1;\r\n          }\r\n        }\r\n        context_enlargeIn--;\r\n        if (context_enlargeIn == 0) {\r\n          context_enlargeIn = Math.pow(2, context_numBits);\r\n          context_numBits++;\r\n        }\r\n        delete context_dictionaryToCreate[context_w];\r\n      } else {\r\n        value = context_dictionary[context_w];\r\n        for (i = 0; i < context_numBits; i++) {\r\n          context_data_val = (context_data_val << 1) | (value & 1);\r\n          if (context_data_position == bitsPerChar - 1) {\r\n            context_data_position = 0;\r\n            context_data.push(getCharFromInt(context_data_val));\r\n            context_data_val = 0;\r\n          } else {\r\n            context_data_position++;\r\n          }\r\n          value = value >> 1;\r\n        }\r\n\r\n\r\n      }\r\n      context_enlargeIn--;\r\n      if (context_enlargeIn == 0) {\r\n        context_enlargeIn = Math.pow(2, context_numBits);\r\n        context_numBits++;\r\n      }\r\n    }\r\n\r\n    // Mark the end of the stream\r\n    value = 2;\r\n    for (i = 0; i < context_numBits; i++) {\r\n      context_data_val = (context_data_val << 1) | (value & 1);\r\n      if (context_data_position == bitsPerChar - 1) {\r\n        context_data_position = 0;\r\n        context_data.push(getCharFromInt(context_data_val));\r\n        context_data_val = 0;\r\n      } else {\r\n        context_data_position++;\r\n      }\r\n      value = value >> 1;\r\n    }\r\n\r\n    // Flush the last char\r\n    while (true) {\r\n      context_data_val = (context_data_val << 1);\r\n      if (context_data_position == bitsPerChar - 1) {\r\n        context_data.push(getCharFromInt(context_data_val));\r\n        break;\r\n      }\r\n      else context_data_position++;\r\n    }\r\n    return context_data.join('');\r\n  },\r\n\r\n  decompress: function (compressed) {\r\n    if (compressed == null) return \"\";\r\n    if (compressed == \"\") return null;\r\n    return LZString._decompress(compressed.length, 32768, function (index) { return compressed.charCodeAt(index); });\r\n  },\r\n\r\n  _decompress: function (length, resetValue, getNextValue) {\r\n    var dictionary = [],\r\n      next,\r\n      enlargeIn = 4,\r\n      dictSize = 4,\r\n      numBits = 3,\r\n      entry = \"\",\r\n      result = [],\r\n      i,\r\n      w,\r\n      bits, resb, maxpower, power,\r\n      c,\r\n      data = { val: getNextValue(0), position: resetValue, index: 1 };\r\n\r\n    for (i = 0; i < 3; i += 1) {\r\n      dictionary[i] = i;\r\n    }\r\n\r\n    bits = 0;\r\n    maxpower = Math.pow(2, 2);\r\n    power = 1;\r\n    while (power != maxpower) {\r\n      resb = data.val & data.position;\r\n      data.position >>= 1;\r\n      if (data.position == 0) {\r\n        data.position = resetValue;\r\n        data.val = getNextValue(data.index++);\r\n      }\r\n      bits |= (resb > 0 ? 1 : 0) * power;\r\n      power <<= 1;\r\n    }\r\n\r\n    switch (next = bits) {\r\n    case 0:\r\n      bits = 0;\r\n      maxpower = Math.pow(2, 8);\r\n      power = 1;\r\n      while (power != maxpower) {\r\n        resb = data.val & data.position;\r\n        data.position >>= 1;\r\n        if (data.position == 0) {\r\n          data.position = resetValue;\r\n          data.val = getNextValue(data.index++);\r\n        }\r\n        bits |= (resb > 0 ? 1 : 0) * power;\r\n        power <<= 1;\r\n      }\r\n      c = f(bits);\r\n      break;\r\n    case 1:\r\n      bits = 0;\r\n      maxpower = Math.pow(2, 16);\r\n      power = 1;\r\n      while (power != maxpower) {\r\n        resb = data.val & data.position;\r\n        data.position >>= 1;\r\n        if (data.position == 0) {\r\n          data.position = resetValue;\r\n          data.val = getNextValue(data.index++);\r\n        }\r\n        bits |= (resb > 0 ? 1 : 0) * power;\r\n        power <<= 1;\r\n      }\r\n      c = f(bits);\r\n      break;\r\n    case 2:\r\n      return \"\";\r\n    }\r\n    dictionary[3] = c;\r\n    w = c;\r\n    result.push(c);\r\n    while (true) {\r\n      if (data.index > length) {\r\n        return \"\";\r\n      }\r\n\r\n      bits = 0;\r\n      maxpower = Math.pow(2, numBits);\r\n      power = 1;\r\n      while (power != maxpower) {\r\n        resb = data.val & data.position;\r\n        data.position >>= 1;\r\n        if (data.position == 0) {\r\n          data.position = resetValue;\r\n          data.val = getNextValue(data.index++);\r\n        }\r\n        bits |= (resb > 0 ? 1 : 0) * power;\r\n        power <<= 1;\r\n      }\r\n\r\n      switch (c = bits) {\r\n      case 0:\r\n        bits = 0;\r\n        maxpower = Math.pow(2, 8);\r\n        power = 1;\r\n        while (power != maxpower) {\r\n          resb = data.val & data.position;\r\n          data.position >>= 1;\r\n          if (data.position == 0) {\r\n            data.position = resetValue;\r\n            data.val = getNextValue(data.index++);\r\n          }\r\n          bits |= (resb > 0 ? 1 : 0) * power;\r\n          power <<= 1;\r\n        }\r\n\r\n        dictionary[dictSize++] = f(bits);\r\n        c = dictSize - 1;\r\n        enlargeIn--;\r\n        break;\r\n      case 1:\r\n        bits = 0;\r\n        maxpower = Math.pow(2, 16);\r\n        power = 1;\r\n        while (power != maxpower) {\r\n          resb = data.val & data.position;\r\n          data.position >>= 1;\r\n          if (data.position == 0) {\r\n            data.position = resetValue;\r\n            data.val = getNextValue(data.index++);\r\n          }\r\n          bits |= (resb > 0 ? 1 : 0) * power;\r\n          power <<= 1;\r\n        }\r\n        dictionary[dictSize++] = f(bits);\r\n        c = dictSize - 1;\r\n        enlargeIn--;\r\n        break;\r\n      case 2:\r\n        return result.join('');\r\n      }\r\n\r\n      if (enlargeIn == 0) {\r\n        enlargeIn = Math.pow(2, numBits);\r\n        numBits++;\r\n      }\r\n\r\n      if (dictionary[c]) {\r\n        entry = dictionary[c];\r\n      } else {\r\n        if (c === dictSize) {\r\n          entry = w + w.charAt(0);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n      result.push(entry);\r\n\r\n      // Add w+entry[0] to the dictionary.\r\n      dictionary[dictSize++] = w + entry.charAt(0);\r\n      enlargeIn--;\r\n\r\n      w = entry;\r\n\r\n      if (enlargeIn == 0) {\r\n        enlargeIn = Math.pow(2, numBits);\r\n        numBits++;\r\n      }\r\n\r\n    }\r\n  }\r\n};\r\n\r\nexport default LZString;\n\n\n// WEBPACK FOOTER //\n// ./lib/lz-string.js","import LZString from './lz-string';\r\n\r\nexport const loadState = function () {\r\n  const val = typeof window !== 'undefined' ? localStorage.getItem('game-persistance') : null;\r\n  if (val) {\r\n    const json = LZString.decompress(val);\r\n    return JSON.parse(json);\r\n  }\r\n  return {\r\n    games: {},\r\n  }\r\n}\r\n\r\nexport const saveState = function (state) {\r\n  const str = JSON.stringify(state, function (key, val) {\r\n    return val !== null && val !== undefined && val.toFixed ? +val.toFixed(3) : val;\r\n  });\r\n  const data = LZString.compress(str);\r\n  localStorage.setItem('game-persistance', data);\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/persistance.js","import { EventEmitter } from 'events';\r\nimport Airplane from '../lib/airplane';\r\nimport config from '../lib/config';\r\nimport { loadMap, angleDistance, headingTo, rwyPos, idType, activeRwys } from '../lib/map';\r\nimport SettingsStore from './SettingsStore';\r\nimport { routeTypes, airplanesById } from '../lib/airplane-library';\r\nimport { loadState } from '../lib/persistance';\r\n\r\nclass GameStore extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n    this.traffic = [];\r\n    this.paused = false;\r\n    this.started = false;\r\n    this.interval = null;\r\n    this.width = 1280;\r\n    this.height = 720;\r\n    this.log = [];\r\n    this.selfLog = [];\r\n    this.pathCounter = 0;\r\n    this.waypoints = {};\r\n    this.airport = {};\r\n    this.callsigns = {};\r\n    this.callsignsPos = {};\r\n    this._remove = [];\r\n    this.mapName = null;\r\n\r\n    this.update = this.update.bind(this); // called within a setInterval so bind to this object and not the window object.\r\n    this._newPlane = this._newPlane.bind(this); // called within a setInterval so bind to this object and not the window object.\r\n  }\r\n\r\n  startMap(mapName) {\r\n    this.arrivals = 0;\r\n    this.departures = 0;\r\n    this.enroutes = 0;\r\n    this.unpermittedDepartures = 0;\r\n    this.distanceVialations = 0;\r\n    const map = this.map = loadMap(mapName);\r\n    this.winddir = Math.floor(Math.random() * 360);\r\n    this.windspd = Math.floor(Math.random() * 12);\r\n    this._setup(map);\r\n    // create planes\r\n    for (let i = 0; i < SettingsStore.startingInboundPlanes; i++) {\r\n      this._newPlaneInboundOnRoute();\r\n    }\r\n    for (let i = 0; i < SettingsStore.startingOutboundPlanes; i++) {\r\n      this._newPlaneOutbound();\r\n    }\r\n  }\r\n\r\n  startSaved(saveName) {\r\n    const state = loadState();\r\n    const game = state.games[saveName];\r\n    this.loadJson(game);\r\n    const map = this.map = loadMap(this.mapName);\r\n    this._setup(map);\r\n  }\r\n\r\n  _setup(map) {\r\n    this.waypoints = map.waypoints;\r\n    this.airport = map.airport;\r\n    this._edgeDetection = {};\r\n    this.sepDistanceVialotions = {};\r\n    this.started = true;\r\n    this.callsigns = {};\r\n    this.callsignsPos = {};\r\n    this.mapName = map.name;\r\n\r\n    this._setupWaypoints(map);\r\n\r\n    window.rwyRelPos = (name, mult) => rwyPos(map.airport, this.callsigns[name], this.width, this.height, mult, true);\r\n\r\n    // set callsigns\r\n    Object.assign(this.callsigns, this.waypoints, { [map.airport.callsign]: map.airport },\r\n      ...map.airport.runways.map(rwy => ({ [rwy.name1]: rwy, [rwy.name2]: rwy })));\r\n\r\n    // set callsign positions\r\n    const airportX = this.width / 2 + map.airport.x;\r\n    const airportY = this.height / 2 + map.airport.y;\r\n    Object.assign(this.callsignsPos, ...Object.keys(this.waypoints).map(k => {\r\n      const ref = this.waypoints[k];\r\n      return { [k]: { ref, x: ref.x, y: ref.y } };\r\n    }), { [map.airport.callsign]: { ref: map.airport, x: airportX, y: airportY } },\r\n      ...map.airport.runways.map(ref => {\r\n        const pos = rwyPos(map.airport, ref, this.width, this.height);\r\n        return { [ref.name1]: { ref, x: pos.x1, y: pos.y1 }, [ref.name2]: { ref, x: pos.x2, y: pos.y2 } }\r\n      }));\r\n\r\n    if (this.interval) throw 'Already set interval';\r\n    this.interval = setInterval(this.update, config.updateInterval)\r\n    if (this.newTrafficInterval) throw 'Already set new traffic interval';\r\n    this.newTrafficInterval = setInterval(this._newPlane, SettingsStore.newPlaneInterval * 1000);\r\n    this.emit('change');\r\n    this.emit('start');\r\n  }\r\n\r\n  _setupWaypoints() {\r\n    const map = this.map;\r\n    this.inboundWpOrdered = map.inboundWaypoints.slice(0).sort(() => Math.random() - .5);\r\n    this.outboundWpOrdered = map.outboundWaypoints.slice(0).sort(() => Math.random() - .5);\r\n    this.enrouteRoutesOrdered = [];\r\n    for (let i = 0; i < map.inboundWaypoints.length; i++) {\r\n      for (let j = 0; j < map.outboundWaypoints.length; j++) {\r\n        const inboundWp = map.inboundWaypoints[i];\r\n        const outboundWp = map.outboundWaypoints[i];\r\n        const route = map.routes[`${inboundWp}->${outboundWp}`];\r\n        if (route) {\r\n          this.enrouteRoutesOrdered.push(route);\r\n        }\r\n      }\r\n    }\r\n    this.enrouteRoutesOrdered.sort(() => Math.random() - .5);\r\n  }\r\n\r\n  _newPlane() {\r\n    if (Math.random() > .5) this._newPlaneInboundOnRoute();\r\n    else this._newPlaneOutbound();\r\n  }\r\n\r\n  _newPlaneInboundOnRoute() {\r\n    const map = this.map;\r\n    if (this.inboundWpOrdered.length === 0) {\r\n      this.inboundWpOrdered = map.inboundWaypoints.slice(0).sort(() => Math.random() - .5);\r\n    }\r\n    const inboundWaypoint = this.inboundWpOrdered.pop();\r\n    const pos = this.callsignsPos[inboundWaypoint];\r\n    let mx = this.width / 2;\r\n    let my = this.height / 2;\r\n    let heading = Math.floor(headingTo(pos.x, pos.y, mx, my)) % 360\r\n    this.traffic.push(Airplane.create(pos.x, pos.y, heading, routeTypes.INBOUND));\r\n  }\r\n\r\n  // deprecated\r\n  _newPlaneInboundOnEdge() {\r\n    const hdgVar = config.headingInitVariation;\r\n    let side = Math.floor(Math.random() * 4);\r\n    let x = side === 1 ? this.width : side === 3 ? 0 : Math.random() * this.width;\r\n    let y = side === 0 ? this.height : side === 2 ? 0 : Math.random() * this.height;\r\n    let mx = this.width / 2;\r\n    let my = this.height / 2;\r\n    let heading = Math.floor(headingTo(x, y, mx, my) - hdgVar * .5 + Math.random() * hdgVar) % 360\r\n    this.traffic.push(Airplane.create(x, y, heading, routeTypes.INBOUND));\r\n  }\r\n\r\n  _newPlaneOutbound() {\r\n    const activeRunways = activeRwys(this.airport, this.winddir);\r\n    const item = activeRunways[Math.floor(Math.random() * activeRunways.length)];\r\n    const rwy = this.callsignsPos[item];\r\n    const hdg = rwy.ref.name1 === item ? rwy.ref.hdg1 : rwy.ref.hdg2;\r\n    const outboundWaypoint = this.map.outboundWaypoints[Math.floor(Math.random() * this.map.outboundWaypoints.length)];\r\n    this.traffic.push(Airplane.createOutbound(rwy.x, rwy.y, hdg, item, outboundWaypoint));\r\n  }\r\n\r\n  update() {\r\n    if (this.paused) return;\r\n    let sepDistViolation = false;\r\n    const s = config.globalSpeed * SettingsStore.speed;\r\n    this.pathCounter = ++this.pathCounter % Math.floor(config.pathCounterUpdateEvery / s);\r\n    let addPathEntry = this.pathCounter === 0;\r\n    for (const key in this.sepDistanceVialotions) {\r\n      delete this.sepDistanceVialotions[key];\r\n    }\r\n    // move planes\r\n    for (let i = 0; i < this.traffic.length; i++) {\r\n      const airplane = this.traffic[i];\r\n      if (airplane.outboundRwy) continue;\r\n      let dx = Math.sin(airplane.heading * Math.PI / 180);\r\n      let dy = Math.cos(airplane.heading * Math.PI / 180);\r\n      airplane.x += dx * s * airplane.speed * config.baseAirplaneSpeed;\r\n      airplane.y += dy * s * airplane.speed * config.baseAirplaneSpeed;\r\n      let altChange = Math.min(40 * s, Math.max(-40 * s, airplane.tgtAltitude - airplane.altitude));\r\n      let tgtSpeed = (airplane.altitude < 10000 && airplane.tgtSpeed > 250) ? Math.min(250, airplane.tgtSpeed) : airplane.tgtSpeed;\r\n      airplane.speed += Math.min(1 * s, Math.max(-1 * s, tgtSpeed - airplane.speed));\r\n\r\n      let tgtHeading;\r\n      if (typeof airplane.tgtDirection === 'number') {\r\n        tgtHeading = airplane.tgtDirection;\r\n      } else if (typeof airplane.tgtDirection === 'string') {\r\n        const cs = this.callsignsPos[airplane.tgtDirection];\r\n        if (cs) {\r\n          if (airplane.routeType === routeTypes.INBOUND && cs.ref.type === idType.RWY) {\r\n            const rwyHdg = cs.ref.name1 === airplane.tgtDirection ? cs.ref.hdg1 : cs.ref.hdg2;\r\n            const hdgToRwy = Math.atan2(cs.x - airplane.x, cs.y - airplane.y) * 180 / Math.PI;\r\n            const deg = angleDistance(rwyHdg, hdgToRwy);\r\n            let distance = (cs.x - airplane.x) / Math.sin(hdgToRwy * Math.PI / 180);\r\n            let rwyAirplaneHdgDiff = angleDistance(airplane.heading, rwyHdg);\r\n            const tooHigh = airplane.altitude > (distance * config.ilsSlopeSteepness * 2 + 500/* safety */);\r\n            distance = isFinite(distance) ? distance : .1;\r\n            if (airplane.altitude < 3200 && Math.abs(deg) < 20 && Math.abs(rwyAirplaneHdgDiff) < 20 && !tooHigh) {\r\n              altChange = Math.min(100 * s, Math.max(-100 * s, Math.min(airplane.altitude, distance * config.ilsSlopeSteepness) - airplane.altitude));\r\n            }\r\n            if (airplane.altitude < 3200 && Math.abs(deg) < 20) {\r\n              tgtHeading = rwyHdg + Math.min(45, Math.max(-45, Math.max(Math.abs(deg), 10/* weight */) * deg));\r\n            } else if (airplane.altitude < 500 && Math.abs(rwyAirplaneHdgDiff) < 20) {\r\n              //landed\r\n              console.log(airplane, 'succesfully landed');\r\n              this.arrivals++;\r\n              this._remove.push(airplane);\r\n              continue;\r\n            } else {\r\n              tgtHeading = airplane.heading;\r\n            }\r\n          } else\r\n            tgtHeading = headingTo(airplane.x, airplane.y, this.callsignsPos[airplane.tgtDirection].x, this.callsignsPos[airplane.tgtDirection].y);\r\n        } else {\r\n          tgtHeading = airplane.heading;\r\n        }\r\n      }\r\n      if (airplane.routeType !== routeTypes.INBOUND) {\r\n        const wp = this.callsignsPos[airplane.outboundWaypoint];\r\n        if ((Math.abs(airplane.x - wp.x) + Math.abs(airplane.y - wp.y)) < 15) {\r\n          // enroute\r\n          this.departures++;\r\n          this._remove.push(airplane);\r\n          continue;\r\n        }\r\n      }\r\n      if (airplane.x < -3 || airplane.y < -3 || airplane.x > this.width + 3 || airplane.y > this.height + 3) {\r\n        this.unpermittedDepartures++;\r\n        this._remove.push(airplane);\r\n        continue;\r\n      }\r\n      if (airplane.speed >= (airplanesById[airplane.typeId].landingSpeed - 0.01)) {\r\n        airplane.heading += Math.min(1 * s, Math.max(-1 * s, angleDistance(airplane.heading, tgtHeading)));\r\n        airplane.heading = (airplane.heading + 360) % 360;\r\n        airplane.altitude += altChange;\r\n      }\r\n      if (addPathEntry) {\r\n        airplane.path.unshift([airplane.x, airplane.y]);\r\n        if (airplane.path.length >= config.maxPathLen) airplane.path.pop();\r\n      }\r\n      // edge detection\r\n      const t = config.threeMileRuleDistance,\r\n        x = Math.round(airplane.x / t),\r\n        y = Math.round(airplane.y / t);\r\n      for (let a = 0; a < 2; a++) {\r\n        for (let i = 0; i < 9; i++) {\r\n          const identity = `${Math.round(x + i % 3 - 1)}x${Math.round(y + i / 3 - 1)}/${Math.floor(airplane.altitude * .0005) + a}`,\r\n            sameIdentity = this._edgeDetection[identity];\r\n          if (sameIdentity && !sameIdentity[airplane.flight]) {\r\n            // do actual calculation\r\n            for (const key in sameIdentity) {\r\n              const oa = sameIdentity[key];\r\n              if (Math.abs(oa.altitude - airplane.altitude) > 1001) continue;\r\n              const xd = Math.abs(airplane.x - oa.x) / t;\r\n              const yd = Math.abs(airplane.y - oa.y) / t;\r\n              if (xd * xd + yd * yd < 1) {\r\n                this.sepDistanceVialotions[oa.flight] = airplane;\r\n                this.sepDistanceVialotions[airplane.flight] = oa;\r\n                sepDistViolation = true;\r\n              }\r\n            }\r\n          }\r\n          this._edgeDetection[identity] = (sameIdentity || {});\r\n          this._edgeDetection[identity][airplane.flight] = airplane;\r\n        }\r\n      }\r\n    }\r\n    for (const key in this._edgeDetection) {\r\n      delete this._edgeDetection[key];\r\n    }\r\n    if (this._remove.length > 0) {\r\n      for (let i = 0; i < this._remove.length; i++)\r\n        this.traffic.splice(this.traffic.indexOf(this._remove[i]), 1);\r\n      this._remove.length = 0;\r\n    }\r\n    if (sepDistViolation) this.distanceVialations++;\r\n    this.emit('change');\r\n  }\r\n\r\n  stop() {\r\n    clearInterval(this.interval);\r\n    this.interval = null;\r\n    clearInterval(this.newTrafficInterval)\r\n    this.newTrafficInterval = null;\r\n    this.traffic = [];\r\n    this.started = false;\r\n    this.emit('change');\r\n  }\r\n\r\n  pause() {\r\n    this.paused = true;\r\n    this.emit('change');\r\n  }\r\n\r\n  resume() {\r\n    this.paused = false;\r\n    this.emit('change');\r\n  }\r\n\r\n  addLog(msg, self) {\r\n    this.log.push(msg);\r\n    if (self) this.selfLog.push(msg);\r\n    this.emit('change');\r\n  }\r\n\r\n  toJson() {\r\n    const ret = {};\r\n    for (let i = 0; i < persistanceProps.length; i++) {\r\n      ret[persistanceProps[i]] = this[persistanceProps[i]];\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  loadJson(state) {\r\n    for (let i = 0; i < persistanceProps.length; i++) {\r\n      this[persistanceProps[i]] = state[persistanceProps[i]];\r\n    }\r\n  }\r\n\r\n  setSvgEl(el) {\r\n    this.svgEl = el;\r\n  }\r\n}\r\n\r\nconst persistanceProps = ['traffic', 'started', 'width', 'height', 'log', 'selfLog', 'pathCounter', 'mapName', 'arrivals', 'departures',\r\n  'enroutes', 'distanceVialations', 'mapName', 'winddir', 'windspd', 'unpermittedDepartures'];\r\n\r\nexport default new GameStore();\r\n\n\n\n// WEBPACK FOOTER //\n// ./stores/GameStore.js","import { Component } from 'preact';\nimport './Settings.css';\nimport SettingsStore from '../../stores/SettingsStore';\nimport Communications from '../../lib/communications';\nimport GameStore from '../../stores/GameStore';\n\nclass Settings extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      difficulty: 'normal',\n    };\n\n    this.handleSpeechRecognitionSettingChange = this.handleSpeechRecognitionSettingChange.bind(this);\n    this.handleSpeechSynthesisSettingChange = this.handleSpeechSynthesisSettingChange.bind(this);\n    this.handleVoicesChange = this.handleVoicesChange.bind(this);\n    this.handlePitchChange = this.handlePitchChange.bind(this);\n    this.handleRateChange = this.handleRateChange.bind(this);\n    this.handleSpeechVoiceChange = this.handleSpeechVoiceChange.bind(this);\n    this.handleSettingsStoreChange = this.handleSettingsStoreChange.bind(this);\n    this.handleSpeedChange = this.handleSpeedChange.bind(this);\n    this.handleDifficultyChange = this.handleDifficultyChange.bind(this);\n    this.handleIlsPathColorChange = this.handleIlsPathColorChange.bind(this);\n    this.handleDistanceCircleColor = this.handleDistanceCircleColor.bind(this);\n  }\n\n  componentWillMount() {\n    SettingsStore.on('change', this.handleSettingsStoreChange);\n    Communications.synth.addEventListener('voiceschanged', this.handleVoicesChange);\n  }\n\n  componentWillUnmount() {\n    SettingsStore.removeListener('change', this.handleSettingsStoreChange);\n    Communications.synth.removeEventListener('voiceschanged', this.handleVoicesChange);\n\n  }\n\n  handleSettingsStoreChange() {\n    this.setState({});\n  }\n\n  handleSpeechVoiceChange(e) {\n    SettingsStore.changeVoice(SettingsStore.voices[+e.target.value])\n    SettingsStore.emit('change');\n  }\n\n  handleSpeechSynthesisSettingChange(e) {\n    SettingsStore.speechsynthesis = e.target.checked;\n    SettingsStore.emit('change');\n  }\n\n  handleSpeechRecognitionSettingChange(e) {\n    SettingsStore.speechrecognition = e.target.checked;\n    SettingsStore.emit('change');\n  }\n\n  handleVoicesChange(e) {\n    SettingsStore.emit('change');\n  }\n\n  handlePitchChange(e) {\n    SettingsStore.changePitch(+e.target.value);\n    SettingsStore.emit('change');\n  }\n\n  handleRateChange(e) {\n    SettingsStore.changeRate(+e.target.value);\n    SettingsStore.emit('change');\n  }\n\n  handleSpeedChange(e) {\n    SettingsStore.setSpeed(+e.target.value);\n    SettingsStore.emit('change');\n  }\n\n  handleDifficultyChange(e) {\n    switch (e.target.value) {\n      case 'easy':\n        SettingsStore.startingInboundPlanes = 1;\n        SettingsStore.startingOutboundPlanes = 1;\n        SettingsStore.newPlaneInterval = 180;\n        break;\n      case 'normal':\n        SettingsStore.startingInboundPlanes = 3;\n        SettingsStore.startingOutboundPlanes = 2;\n        SettingsStore.newPlaneInterval = 100;\n        break;\n      case 'hard':\n        SettingsStore.startingInboundPlanes = 4;\n        SettingsStore.startingOutboundPlanes = 3;\n        SettingsStore.newPlaneInterval = 70;\n        break;\n    }\n  }\n\n  handleIlsPathColorChange(e) {\n    SettingsStore.ilsPathColor = e.target.value;\n    SettingsStore.emit('change');\n  }\n\n  handleDistanceCircleColor(e) {\n    SettingsStore.distanceCircleColor = e.target.value;\n    SettingsStore.emit('change');\n  }\n\n\n  handleSepVialotionCircleColor(e) {\n    SettingsStore.sepVialationCircleColor = e.target.value;\n    SettingsStore.emit('change');\n  }\n\n  handleDistanceCircleChange(e) {\n    SettingsStore.distanceCircles = e.target.checked;\n    SettingsStore.emit('change');\n  }\n\n  render() {\n    return (\n      <div className=\"settings\">\n        <div className=\"speechsynthesis-setting mb\">\n          <span>Speech Synthesis</span>\n          <input type=\"checkbox\" onInput={this.handleSpeechSynthesisSettingChange} checked={SettingsStore.speechsynthesis} />\n        </div>\n        <div className=\"speechsynthesis-voices-setting mb\">\n          <span>Speech Synthesis Voices</span>\n          <select style=\"color: #333; background: #fff\" onInput={this.handleSpeechVoiceChange}>\n            {SettingsStore.voices.map((voice, i) => {\n              return <option key={i} value={i}>{voice.name} - {voice.lang}</option>\n            })}\n          </select>\n        </div>\n        <span>Pitch:</span>\n        <div className=\"speechsynthesis-pitch-setting range-slider mb\">\n          <input className=\"range-slider__range\" type=\"range\" min=\"0.1\" max=\"2\" step=\"0.1\" value={SettingsStore.pitch} onInput={this.handlePitchChange} />\n          <span class=\"range-slider__value\">{SettingsStore.pitch}</span>\n        </div>\n        <span>Rate:</span>\n        <div className=\"speechsynthesis-rate-setting range-slider mb\">\n          <input className=\"range-slider__range\" type=\"range\" min=\"0.1\" max=\"2\" step=\"0.1\" value={SettingsStore.rate} onInput={this.handleRateChange} />\n          <span class=\"range-slider__value\">{SettingsStore.rate}</span>\n        </div>\n        <div className=\"mb\">\n          <span>Speech Recognition</span>\n          <input type=\"checkbox\" onInput={this.handleSpeechRecognitionSettingChange} checked={SettingsStore.speechrecognition} />\n        </div>\n        <span>Game Speed</span>\n        <div className=\"range-slider mb\">\n          <input className=\"range-slider__range\" type=\"range\" min=\"0.1\" max=\"10\" step=\"0.1\" value={SettingsStore.speed} onInput={this.handleSpeedChange} />\n          <span class=\"range-slider__value\">{SettingsStore.speed}</span>\n        </div>\n        <div className=\"mb\">\n          <span>Difficulty:</span>\n          <select value={this.state.difficulty} onInput={this.handleDifficultyChange}>\n            <option value=\"easy\">Easy</option>\n            <option value=\"normal\">Normal</option>\n            <option value=\"hard\">Hard</option>\n          </select>\n        </div>\n        <div className=\"mb\">\n          <span>Distance Circle</span>\n          <input type=\"checkbox\" onInput={this.handleDistanceCircleChange} checked={SettingsStore.distanceCircles} />\n        </div>\n        <div className=\"mb\">\n          <span>Distance Circle Color:</span>\n          <input type=\"color\" value={SettingsStore.distanceCircleColor} onInput={this.handleDistanceCircleColor} />\n        </div>\n        <div className=\"mb\">\n          <span>ILS Indicator Color:</span>\n          <input type=\"color\" value={SettingsStore.ilsPathColor} onInput={this.handleIlsPathColorChange} />\n        </div>\n        <div className=\"mb\">\n          <span>Seperatorion Circle Color:</span>\n          <input type=\"color\" value={SettingsStore.sepVialationCircleColor} onInput={this.handleSepVialotionCircleColor} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Settings;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Settings/Settings.js","import { Component } from 'preact';\nimport './WayPoints.css';\nimport GameStore from '../../stores/GameStore';\n\nclass WayPoints extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      waypoints: GameStore.waypoints,\n    };\n\n\n    this.handleGameStoreStart = this.handleGameStoreStart.bind(this);\n  }\n\n  componentWillMount() {\n    GameStore.on('start', this.handleGameStoreStart);\n  }\n\n  componentWillUnmount() {\n    GameStore.removeListener('start', this.handleGameStoreStart);\n  }\n\n  handleGameStoreStart() {\n    this.setState({\n      waypoints: GameStore.waypoints,\n    });\n  }\n\n  render() {\n    const waypointsJsx = Object.keys(this.state.waypoints).map(w => {\n      const waypoint = this.state.waypoints[w];\n      return <g className=\"waypoint\" transform={`translate(${waypoint.x} ${GameStore.height - waypoint.y})`}>\n        <circle r=\"2\" />\n        <text x=\"4\">{w}</text>\n      </g>\n    });\n\n    return (\n      <g className=\"waypoints\">\n        {waypointsJsx}\n      </g>\n    );\n  }\n}\n\nexport default WayPoints;\n\n\n\n// WEBPACK FOOTER //\n// ./components/WayPoints/WayPoints.js","import PropTypes from 'prop-types';\nimport { Component, cloneElement, h, options, render } from 'preact';\n\nvar version = '15.1.0'; // trick libraries to think we are react\n\nvar ELEMENTS = 'a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan'.split(' ');\n\nvar REACT_ELEMENT_TYPE = (typeof Symbol!=='undefined' && Symbol.for && Symbol.for('react.element')) || 0xeac7;\n\nvar COMPONENT_WRAPPER_KEY = (typeof Symbol!=='undefined' && Symbol.for) ? Symbol.for('__preactCompatWrapper') : '__preactCompatWrapper';\n\n// don't autobind these methods since they already have guaranteed context.\nvar AUTOBIND_BLACKLIST = {\n\tconstructor: 1,\n\trender: 1,\n\tshouldComponentUpdate: 1,\n\tcomponentWillReceiveProps: 1,\n\tcomponentWillUpdate: 1,\n\tcomponentDidUpdate: 1,\n\tcomponentWillMount: 1,\n\tcomponentDidMount: 1,\n\tcomponentWillUnmount: 1,\n\tcomponentDidUnmount: 1\n};\n\n\nvar CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;\n\n\nvar BYPASS_HOOK = {};\n\n/*global process*/\nvar DEV = typeof process==='undefined' || !process.env || process.env.NODE_ENV!=='production';\n\n// a component that renders nothing. Used to replace components for unmountComponentAtNode.\nfunction EmptyComponent() { return null; }\n\n\n\n// make react think we're react.\nvar VNode = h('a', null).constructor;\nVNode.prototype.$$typeof = REACT_ELEMENT_TYPE;\nVNode.prototype.preactCompatUpgraded = false;\nVNode.prototype.preactCompatNormalized = false;\n\nObject.defineProperty(VNode.prototype, 'type', {\n\tget: function() { return this.nodeName; },\n\tset: function(v) { this.nodeName = v; },\n\tconfigurable:true\n});\n\nObject.defineProperty(VNode.prototype, 'props', {\n\tget: function() { return this.attributes; },\n\tset: function(v) { this.attributes = v; },\n\tconfigurable:true\n});\n\n\n\nvar oldEventHook = options.event;\noptions.event = function (e) {\n\tif (oldEventHook) { e = oldEventHook(e); }\n\te.persist = Object;\n\te.nativeEvent = e;\n\treturn e;\n};\n\n\nvar oldVnodeHook = options.vnode;\noptions.vnode = function (vnode) {\n\tif (!vnode.preactCompatUpgraded) {\n\t\tvnode.preactCompatUpgraded = true;\n\n\t\tvar tag = vnode.nodeName,\n\t\t\tattrs = vnode.attributes = extend({}, vnode.attributes);\n\n\t\tif (typeof tag==='function') {\n\t\t\tif (tag[COMPONENT_WRAPPER_KEY]===true || (tag.prototype && 'isReactComponent' in tag.prototype)) {\n\t\t\t\tif (vnode.children && String(vnode.children)==='') { vnode.children = undefined; }\n\t\t\t\tif (vnode.children) { attrs.children = vnode.children; }\n\n\t\t\t\tif (!vnode.preactCompatNormalized) {\n\t\t\t\t\tnormalizeVNode(vnode);\n\t\t\t\t}\n\t\t\t\thandleComponentVNode(vnode);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (vnode.children && String(vnode.children)==='') { vnode.children = undefined; }\n\t\t\tif (vnode.children) { attrs.children = vnode.children; }\n\n\t\t\tif (attrs.defaultValue) {\n\t\t\t\tif (!attrs.value && attrs.value!==0) {\n\t\t\t\t\tattrs.value = attrs.defaultValue;\n\t\t\t\t}\n\t\t\t\tdelete attrs.defaultValue;\n\t\t\t}\n\n\t\t\thandleElementVNode(vnode, attrs);\n\t\t}\n\t}\n\n\tif (oldVnodeHook) { oldVnodeHook(vnode); }\n};\n\nfunction handleComponentVNode(vnode) {\n\tvar tag = vnode.nodeName,\n\t\ta = vnode.attributes;\n\n\tvnode.attributes = {};\n\tif (tag.defaultProps) { extend(vnode.attributes, tag.defaultProps); }\n\tif (a) { extend(vnode.attributes, a); }\n}\n\nfunction handleElementVNode(vnode, a) {\n\tvar shouldSanitize, attrs, i;\n\tif (a) {\n\t\tfor (i in a) { if ((shouldSanitize = CAMEL_PROPS.test(i))) { break; } }\n\t\tif (shouldSanitize) {\n\t\t\tattrs = vnode.attributes = {};\n\t\t\tfor (i in a) {\n\t\t\t\tif (a.hasOwnProperty(i)) {\n\t\t\t\t\tattrs[ CAMEL_PROPS.test(i) ? i.replace(/([A-Z0-9])/, '-$1').toLowerCase() : i ] = a[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// proxy render() since React returns a Component reference.\nfunction render$1(vnode, parent, callback) {\n\tvar prev = parent && parent._preactCompatRendered && parent._preactCompatRendered.base;\n\n\t// ignore impossible previous renders\n\tif (prev && prev.parentNode!==parent) { prev = null; }\n\n\t// default to first Element child\n\tif (!prev && parent) { prev = parent.firstElementChild; }\n\n\t// remove unaffected siblings\n\tfor (var i=parent.childNodes.length; i--; ) {\n\t\tif (parent.childNodes[i]!==prev) {\n\t\t\tparent.removeChild(parent.childNodes[i]);\n\t\t}\n\t}\n\n\tvar out = render(vnode, parent, prev);\n\tif (parent) { parent._preactCompatRendered = out && (out._component || { base: out }); }\n\tif (typeof callback==='function') { callback(); }\n\treturn out && out._component || out;\n}\n\n\nvar ContextProvider = function () {};\n\nContextProvider.prototype.getChildContext = function () {\n\treturn this.props.context;\n};\nContextProvider.prototype.render = function (props) {\n\treturn props.children[0];\n};\n\nfunction renderSubtreeIntoContainer(parentComponent, vnode, container, callback) {\n\tvar wrap = h(ContextProvider, { context: parentComponent.context }, vnode);\n\tvar renderContainer = render$1(wrap, container);\n\tvar component = renderContainer._component || renderContainer.base;\n\tif (callback) { callback.call(component, renderContainer); }\n\treturn component;\n}\n\n\nfunction unmountComponentAtNode(container) {\n\tvar existing = container._preactCompatRendered && container._preactCompatRendered.base;\n\tif (existing && existing.parentNode===container) {\n\t\trender(h(EmptyComponent), container, existing);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n\n\nvar ARR = [];\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nvar Children = {\n\tmap: function(children, fn, ctx) {\n\t\tif (children == null) { return null; }\n\t\tchildren = Children.toArray(children);\n\t\tif (ctx && ctx!==children) { fn = fn.bind(ctx); }\n\t\treturn children.map(fn);\n\t},\n\tforEach: function(children, fn, ctx) {\n\t\tif (children == null) { return null; }\n\t\tchildren = Children.toArray(children);\n\t\tif (ctx && ctx!==children) { fn = fn.bind(ctx); }\n\t\tchildren.forEach(fn);\n\t},\n\tcount: function(children) {\n\t\treturn children && children.length || 0;\n\t},\n\tonly: function(children) {\n\t\tchildren = Children.toArray(children);\n\t\tif (children.length!==1) { throw new Error('Children.only() expects only one child.'); }\n\t\treturn children[0];\n\t},\n\ttoArray: function(children) {\n\t\tif (children == null) { return []; }\n\t\treturn ARR.concat(children);\n\t}\n};\n\n\n/** Track current render() component for ref assignment */\nvar currentComponent;\n\n\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n\nvar DOM = {};\nfor (var i=ELEMENTS.length; i--; ) {\n\tDOM[ELEMENTS[i]] = createFactory(ELEMENTS[i]);\n}\n\nfunction upgradeToVNodes(arr, offset) {\n\tfor (var i=offset || 0; i<arr.length; i++) {\n\t\tvar obj = arr[i];\n\t\tif (Array.isArray(obj)) {\n\t\t\tupgradeToVNodes(obj);\n\t\t}\n\t\telse if (obj && typeof obj==='object' && !isValidElement(obj) && ((obj.props && obj.type) || (obj.attributes && obj.nodeName) || obj.children)) {\n\t\t\tarr[i] = createElement(obj.type || obj.nodeName, obj.props || obj.attributes, obj.children);\n\t\t}\n\t}\n}\n\nfunction isStatelessComponent(c) {\n\treturn typeof c==='function' && !(c.prototype && c.prototype.render);\n}\n\n\n// wraps stateless functional components in a PropTypes validator\nfunction wrapStatelessComponent(WrappedComponent) {\n\treturn createClass({\n\t\tdisplayName: WrappedComponent.displayName || WrappedComponent.name,\n\t\trender: function() {\n\t\t\treturn WrappedComponent(this.props, this.context);\n\t\t}\n\t});\n}\n\n\nfunction statelessComponentHook(Ctor) {\n\tvar Wrapped = Ctor[COMPONENT_WRAPPER_KEY];\n\tif (Wrapped) { return Wrapped===true ? Ctor : Wrapped; }\n\n\tWrapped = wrapStatelessComponent(Ctor);\n\n\tObject.defineProperty(Wrapped, COMPONENT_WRAPPER_KEY, { configurable:true, value:true });\n\tWrapped.displayName = Ctor.displayName;\n\tWrapped.propTypes = Ctor.propTypes;\n\tWrapped.defaultProps = Ctor.defaultProps;\n\n\tObject.defineProperty(Ctor, COMPONENT_WRAPPER_KEY, { configurable:true, value:Wrapped });\n\n\treturn Wrapped;\n}\n\n\nfunction createElement() {\n\tvar args = [], len = arguments.length;\n\twhile ( len-- ) args[ len ] = arguments[ len ];\n\n\tupgradeToVNodes(args, 2);\n\treturn normalizeVNode(h.apply(void 0, args));\n}\n\n\nfunction normalizeVNode(vnode) {\n\tvnode.preactCompatNormalized = true;\n\n\tapplyClassName(vnode);\n\n\tif (isStatelessComponent(vnode.nodeName)) {\n\t\tvnode.nodeName = statelessComponentHook(vnode.nodeName);\n\t}\n\n\tvar ref = vnode.attributes.ref,\n\t\ttype = ref && typeof ref;\n\tif (currentComponent && (type==='string' || type==='number')) {\n\t\tvnode.attributes.ref = createStringRefProxy(ref, currentComponent);\n\t}\n\n\tapplyEventNormalization(vnode);\n\n\treturn vnode;\n}\n\n\nfunction cloneElement$1(element, props) {\n\tvar children = [], len = arguments.length - 2;\n\twhile ( len-- > 0 ) children[ len ] = arguments[ len + 2 ];\n\n\tif (!isValidElement(element)) { return element; }\n\tvar elementProps = element.attributes || element.props;\n\tvar node = h(\n\t\telement.nodeName || element.type,\n\t\textend({}, elementProps),\n\t\telement.children || elementProps && elementProps.children\n\t);\n\t// Only provide the 3rd argument if needed.\n\t// Arguments 3+ overwrite element.children in preactCloneElement\n\tvar cloneArgs = [node, props];\n\tif (children && children.length) {\n\t\tcloneArgs.push(children);\n\t}\n\telse if (props && props.children) {\n\t\tcloneArgs.push(props.children);\n\t}\n\treturn normalizeVNode(cloneElement.apply(void 0, cloneArgs));\n}\n\n\nfunction isValidElement(element) {\n\treturn element && ((element instanceof VNode) || element.$$typeof===REACT_ELEMENT_TYPE);\n}\n\n\nfunction createStringRefProxy(name, component) {\n\treturn component._refProxies[name] || (component._refProxies[name] = function (resolved) {\n\t\tif (component && component.refs) {\n\t\t\tcomponent.refs[name] = resolved;\n\t\t\tif (resolved===null) {\n\t\t\t\tdelete component._refProxies[name];\n\t\t\t\tcomponent = null;\n\t\t\t}\n\t\t}\n\t});\n}\n\n\nfunction applyEventNormalization(ref) {\n\tvar nodeName = ref.nodeName;\n\tvar attributes = ref.attributes;\n\n\tif (!attributes || typeof nodeName!=='string') { return; }\n\tvar props = {};\n\tfor (var i in attributes) {\n\t\tprops[i.toLowerCase()] = i;\n\t}\n\tif (props.ondoubleclick) {\n\t\tattributes.ondblclick = attributes[props.ondoubleclick];\n\t\tdelete attributes[props.ondoubleclick];\n\t}\n\t// for *textual inputs* (incl textarea), normalize `onChange` -> `onInput`:\n\tif (props.onchange && (nodeName==='textarea' || (nodeName.toLowerCase()==='input' && !/^fil|che|rad/i.test(attributes.type)))) {\n\t\tvar normalized = props.oninput || 'oninput';\n\t\tif (!attributes[normalized]) {\n\t\t\tattributes[normalized] = multihook([attributes[normalized], attributes[props.onchange]]);\n\t\t\tdelete attributes[props.onchange];\n\t\t}\n\t}\n}\n\n\nfunction applyClassName(vnode) {\n\tvar a = vnode.attributes || (vnode.attributes = {});\n\tclassNameDescriptor.enumerable = 'className' in a;\n\tif (a.className) { a.class = a.className; }\n\tObject.defineProperty(a, 'className', classNameDescriptor);\n}\n\n\nvar classNameDescriptor = {\n\tconfigurable: true,\n\tget: function() { return this.class; },\n\tset: function(v) { this.class = v; }\n};\n\nfunction extend(base, props) {\n\tvar arguments$1 = arguments;\n\n\tfor (var i=1, obj = (void 0); i<arguments.length; i++) {\n\t\tif ((obj = arguments$1[i])) {\n\t\t\tfor (var key in obj) {\n\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\tbase[key] = obj[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn base;\n}\n\n\nfunction shallowDiffers(a, b) {\n\tfor (var i in a) { if (!(i in b)) { return true; } }\n\tfor (var i$1 in b) { if (a[i$1]!==b[i$1]) { return true; } }\n\treturn false;\n}\n\n\nfunction findDOMNode(component) {\n\treturn component && component.base || component;\n}\n\n\nfunction F(){}\n\nfunction createClass(obj) {\n\tfunction cl(props, context) {\n\t\tbindAll(this);\n\t\tComponent$1.call(this, props, context, BYPASS_HOOK);\n\t\tnewComponentHook.call(this, props, context);\n\t}\n\n\tobj = extend({ constructor: cl }, obj);\n\n\t// We need to apply mixins here so that getDefaultProps is correctly mixed\n\tif (obj.mixins) {\n\t\tapplyMixins(obj, collateMixins(obj.mixins));\n\t}\n\tif (obj.statics) {\n\t\textend(cl, obj.statics);\n\t}\n\tif (obj.propTypes) {\n\t\tcl.propTypes = obj.propTypes;\n\t}\n\tif (obj.defaultProps) {\n\t\tcl.defaultProps = obj.defaultProps;\n\t}\n\tif (obj.getDefaultProps) {\n\t\tcl.defaultProps = obj.getDefaultProps.call(cl);\n\t}\n\n\tF.prototype = Component$1.prototype;\n\tcl.prototype = extend(new F(), obj);\n\n\tcl.displayName = obj.displayName || 'Component';\n\n\treturn cl;\n}\n\n\n// Flatten an Array of mixins to a map of method name to mixin implementations\nfunction collateMixins(mixins) {\n\tvar keyed = {};\n\tfor (var i=0; i<mixins.length; i++) {\n\t\tvar mixin = mixins[i];\n\t\tfor (var key in mixin) {\n\t\t\tif (mixin.hasOwnProperty(key) && typeof mixin[key]==='function') {\n\t\t\t\t(keyed[key] || (keyed[key]=[])).push(mixin[key]);\n\t\t\t}\n\t\t}\n\t}\n\treturn keyed;\n}\n\n\n// apply a mapping of Arrays of mixin methods to a component prototype\nfunction applyMixins(proto, mixins) {\n\tfor (var key in mixins) { if (mixins.hasOwnProperty(key)) {\n\t\tproto[key] = multihook(\n\t\t\tmixins[key].concat(proto[key] || ARR),\n\t\t\tkey==='getDefaultProps' || key==='getInitialState' || key==='getChildContext'\n\t\t);\n\t} }\n}\n\n\nfunction bindAll(ctx) {\n\tfor (var i in ctx) {\n\t\tvar v = ctx[i];\n\t\tif (typeof v==='function' && !v.__bound && !AUTOBIND_BLACKLIST.hasOwnProperty(i)) {\n\t\t\t(ctx[i] = v.bind(ctx)).__bound = true;\n\t\t}\n\t}\n}\n\n\nfunction callMethod(ctx, m, args) {\n\tif (typeof m==='string') {\n\t\tm = ctx.constructor.prototype[m];\n\t}\n\tif (typeof m==='function') {\n\t\treturn m.apply(ctx, args);\n\t}\n}\n\nfunction multihook(hooks, skipDuplicates) {\n\treturn function() {\n\t\tvar arguments$1 = arguments;\n\t\tvar this$1 = this;\n\n\t\tvar ret;\n\t\tfor (var i=0; i<hooks.length; i++) {\n\t\t\tvar r = callMethod(this$1, hooks[i], arguments$1);\n\n\t\t\tif (skipDuplicates && r!=null) {\n\t\t\t\tif (!ret) { ret = {}; }\n\t\t\t\tfor (var key in r) { if (r.hasOwnProperty(key)) {\n\t\t\t\t\tret[key] = r[key];\n\t\t\t\t} }\n\t\t\t}\n\t\t\telse if (typeof r!=='undefined') { ret = r; }\n\t\t}\n\t\treturn ret;\n\t};\n}\n\n\nfunction newComponentHook(props, context) {\n\tpropsHook.call(this, props, context);\n\tthis.componentWillReceiveProps = multihook([propsHook, this.componentWillReceiveProps || 'componentWillReceiveProps']);\n\tthis.render = multihook([propsHook, beforeRender, this.render || 'render', afterRender]);\n}\n\n\nfunction propsHook(props, context) {\n\tif (!props) { return; }\n\n\t// React annoyingly special-cases single children, and some react components are ridiculously strict about this.\n\tvar c = props.children;\n\tif (c && Array.isArray(c) && c.length===1 && (typeof c[0]==='string' || typeof c[0]==='function' || c[0] instanceof VNode)) {\n\t\tprops.children = c[0];\n\n\t\t// but its totally still going to be an Array.\n\t\tif (props.children && typeof props.children==='object') {\n\t\t\tprops.children.length = 1;\n\t\t\tprops.children[0] = props.children;\n\t\t}\n\t}\n\n\t// add proptype checking\n\tif (DEV) {\n\t\tvar ctor = typeof this==='function' ? this : this.constructor,\n\t\t\tpropTypes = this.propTypes || ctor.propTypes;\n\t\tvar displayName = this.displayName || ctor.name;\n\n\t\tif (propTypes) {\n\t\t\tPropTypes.checkPropTypes(propTypes, props, 'prop', displayName);\n\t\t}\n\t}\n}\n\n\nfunction beforeRender(props) {\n\tcurrentComponent = this;\n}\n\nfunction afterRender() {\n\tif (currentComponent===this) {\n\t\tcurrentComponent = null;\n\t}\n}\n\n\n\nfunction Component$1(props, context, opts) {\n\tComponent.call(this, props, context);\n\tthis.state = this.getInitialState ? this.getInitialState() : {};\n\tthis.refs = {};\n\tthis._refProxies = {};\n\tif (opts!==BYPASS_HOOK) {\n\t\tnewComponentHook.call(this, props, context);\n\t}\n}\nextend(Component$1.prototype = new Component(), {\n\tconstructor: Component$1,\n\n\tisReactComponent: {},\n\n\treplaceState: function(state, callback) {\n\t\tvar this$1 = this;\n\n\t\tthis.setState(state, callback);\n\t\tfor (var i in this$1.state) {\n\t\t\tif (!(i in state)) {\n\t\t\t\tdelete this$1.state[i];\n\t\t\t}\n\t\t}\n\t},\n\n\tgetDOMNode: function() {\n\t\treturn this.base;\n\t},\n\n\tisMounted: function() {\n\t\treturn !!this.base;\n\t}\n});\n\n\n\nfunction PureComponent(props, context) {\n\tComponent$1.call(this, props, context);\n}\nF.prototype = Component$1.prototype;\nPureComponent.prototype = new F();\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n\nvar index = {\n\tversion: version,\n\tDOM: DOM,\n\tPropTypes: PropTypes,\n\tChildren: Children,\n\trender: render$1,\n\tcreateClass: createClass,\n\tcreateFactory: createFactory,\n\tcreateElement: createElement,\n\tcloneElement: cloneElement$1,\n\tisValidElement: isValidElement,\n\tfindDOMNode: findDOMNode,\n\tunmountComponentAtNode: unmountComponentAtNode,\n\tComponent: Component$1,\n\tPureComponent: PureComponent,\n\tunstable_renderSubtreeIntoContainer: renderSubtreeIntoContainer,\n\t__spread: extend\n};\n\nexport { version, DOM, PropTypes, Children, render$1 as render, createClass, createFactory, createElement, cloneElement$1 as cloneElement, isValidElement, findDOMNode, unmountComponentAtNode, Component$1 as Component, PureComponent, renderSubtreeIntoContainer as unstable_renderSubtreeIntoContainer, extend as __spread };export default index;\n//# sourceMappingURL=preact-compat.es.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/preact-compat/dist/preact-compat.es.js","import { Component } from 'react';\nimport './Airport.css';\nimport GameStore from '../../stores/GameStore';\nimport config from '../../lib/config';\nimport SettingsStore from '../../stores/SettingsStore';\n\nclass Airport extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      airport: GameStore.airport,\n    };\n\n    this.handleGameStoreStart = this.handleGameStoreStart.bind(this);\n  }\n\n  componentWillMount() {\n    GameStore.on('start', this.handleGameStoreStart);\n  }\n\n  componentWillUnmount() {\n    GameStore.removeListener('start', this.handleGameStoreStart);\n  }\n\n  handleGameStoreStart() {\n    this.setState({\n      airport: GameStore.airport,\n    });\n  }\n\n  renderRwy(rwy) {\n    const len = rwy.length * config.rwyLenScale;\n    let x1 = Math.sin(rwy.hdg1 * Math.PI / 180) * -len;\n    let y1 = Math.cos(rwy.hdg1 * Math.PI / 180) * -len;\n    let x2 = Math.sin(rwy.hdg2 * Math.PI / 180) * -len;\n    let y2 = Math.cos(rwy.hdg2 * Math.PI / 180) * -len;\n\n    let ilsx1 = Math.sin(rwy.hdg1 * Math.PI / 180) * -SettingsStore.ilsPathLength;\n    let ilsy1 = Math.cos(rwy.hdg1 * Math.PI / 180) * -SettingsStore.ilsPathLength;\n    let ilsx2 = Math.sin(rwy.hdg2 * Math.PI / 180) * -SettingsStore.ilsPathLength;\n    let ilsy2 = Math.cos(rwy.hdg2 * Math.PI / 180) * -SettingsStore.ilsPathLength;\n    return <g className=\"rwy\" transform={`translate(${rwy.x} ${-rwy.y})`}>\n      <line className=\"ils-line ils-line-1\" stroke-dasharray={SettingsStore.ilsDashInterval.join()} x1={x1} y1={-y1} x2={ilsx1} y2={-ilsy1} />\n      <line className=\"ils-line ils-line-2\" stroke-dasharray={SettingsStore.ilsDashInterval.join()} x1={x2} y1={-y2} x2={ilsx2} y2={-ilsy2} />\n      <line className=\"rwy-line\" x1={x1} y1={-y1} x2={x2} y2={-y2} />\n      <text x={x1} y={-y1}>{rwy.name1}</text>\n      <text x={x2} y={-y2}>{rwy.name2}</text>\n    </g>\n  }\n\n  render() {\n    const airport = this.state.airport;\n    if (!airport || !airport.runways) return null; \n\n    const x = GameStore.width / 2 + airport.x;\n    const y = GameStore.height / 2 + airport.y;\n\n    const airportJsx = airport.runways.map(rwy => this.renderRwy(rwy));\n    let distanceCirlces = null;\n    if (SettingsStore.distanceCircles) {\n      distanceCirlces = new Array(SettingsStore.distanceCirclesAmount);\n      for(let i = 0; i < distanceCirlces.length; i++) {\n        distanceCirlces[i] = <circle key={i} r={(i+1) * SettingsStore.distanceCirclesDistance} \n          fill=\"none\" stroke={SettingsStore.distanceCircleColor} />\n      }\n    }\n    \n    return (\n      <g className=\"airport\" transform={`translate(${x} ${y})`}>\n        {distanceCirlces}\n        <circle r=\"2\" fill=\"#fff\" />\n        <g className=\"runways\">\n          {airportJsx}\n        </g>\n        <text x=\"4\">{this.state.airport.callsign}</text>\n      </g>\n    );\n  }\n}\n\nexport default Airport;\n\n\n\n// WEBPACK FOOTER //\n// ./components/Airport/Airport.js","import { Component } from 'react';\nimport './BackgroundSvg.css';\n\nclass BackgroundSvg extends Component {\n  constructor() {\n    super();\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return nextProps.name !== this.props.name;\n  }\n\n  render() {\n    if (this.props.name) {\n      var xhttp = new XMLHttpRequest();\n      xhttp.onreadystatechange = function () {\n        if (xhttp.readyState == 4 && xhttp.status == 200) {\n          this.el.innerHTML = xhttp.responseText;\n        }\n      }.bind(this);\n      xhttp.open('GET', `./assets/maps/${this.props.name}.txt`, true);\n      xhttp.send();\n    }\n    return (\n      <g transform=\"translate(-640, -360)\" className=\"background\" ref={el => this.el = el} />\n    );\n\n  }\n}\n\nexport default BackgroundSvg;\n\n\n\n// WEBPACK FOOTER //\n// ./components/BackgroundSvg/BackgroundSvg.js","import { Component } from 'preact';\nimport './GameMetaControls.css';\nimport GameStore from '../../stores/GameStore';\nimport { saveState, loadState } from '../../lib/persistance';\n\nclass GameMetaControls extends Component {\n  constructor(props) {\n    super();\n\n    this.state = {\n      paused: GameStore.paused,\n      started: GameStore.started,\n    };\n\n    this.handleGameStoreChange = this.handleGameStoreChange.bind(this);\n    this.handlePauseResumeButtonClick = this.handlePauseResumeButtonClick.bind(this);\n    this.handleScreenShotButtonClick = this.handleScreenShotButtonClick.bind(this);\n    this.handleSaveButtonClick = this.handleSaveButtonClick.bind(this);\n  }\n\n  componentWillMount() {\n    GameStore.on('change', this.handleGameStoreChange);\n  }\n\n  componentWillUnmount() {\n    GameStore.removeListener('change', this.handleGameStoreChange);\n  }\n\n  handleGameStoreChange() {\n    this.setState({\n      paused: GameStore.paused,\n      started: GameStore.started,\n    })\n  }\n\n  handlePauseResumeButtonClick() {\n    GameStore[GameStore.paused ? 'resume' : 'pause']();\n  }\n\n  handleScreenShotButtonClick(e) {\n    if (!GameStore.svgEl) return;\n    let el = GameStore.svgEl.getElementsByTagName('svg')[0];\n    let source = '<?xml version=\"1.0\" standalone=\"no\"?>\\n' + el.outerHTML;\n\n    // convert svg source to URI data scheme.\n    let url = \"data:image/svg+xml;base64,\" + btoa(source);\n    e.target.setAttribute('href', url);\n    e.target.setAttribute('download', 'screenshot');\n  }\n\n  handleSaveButtonClick() {\n    const game = GameStore.toJson();\n    const state = loadState();\n    let name = prompt('Name of your save?', `${GameStore.mapName} - ${new Date().toLocaleDateString()}`);\n    if (state.games[name]) return alert('Sorry this name already exists...');\n    state.games[name] = game;\n    saveState(state);\n  }\n\n  render() {\n    const paused = this.state.paused;\n    return (\n      <div className=\"gamemetacontrols\">\n        <a href=\"#\" className=\"button\" onClick={this.handleScreenShotButtonClick}>Screenshot</a>\n        <button onClick={this.handlePauseResumeButtonClick}>{paused ? 'Resume' : 'Pause'}</button>\n        <button onClick={this.handleSaveButtonClick}>Save</button>\n      </div>\n    );\n  }\n}\n\nexport default GameMetaControls;\n\n\n\n// WEBPACK FOOTER //\n// ./components/GameMetaControls/GameMetaControls.js","import { Component } from 'preact';\nimport './AtcView.css';\nimport GameStore from '../../stores/GameStore';\nimport config from '../../lib/config';\nimport { airplanesById, routeTypes, operatorsById } from '../../lib/airplane-library';\nimport Settings from '../../components/Settings/Settings';\nimport Communications from '../../lib/communications';\nimport SettingsStore from '../../stores/SettingsStore';\nimport WayPoints from '../../components/WayPoints/WayPoints';\nimport Airport from '../../components/Airport/Airport';\nimport { landableRwys } from '../../lib/map';\nimport BackgroundSvg from '../../components/BackgroundSvg/BackgroundSvg';\nimport GameMetaControls from '../../components/GameMetaControls/GameMetaControls';\n\nclass AtcView extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      traffic: GameStore.traffic,\n      gameWidth: GameStore.width,\n      gameHeight: GameStore.height,\n      settingsExpanded: false,\n      cmd: {\n        tgt: null,\n        heading: null,\n        altitude: null,\n        speed: null,\n      }\n    };\n\n    this.handleGameStoreChange = this.handleGameStoreChange.bind(this);\n    this.handleAltitudeTgtChange = this.handleAltitudeTgtChange.bind(this);\n    this.handleHeadingTgtChange = this.handleHeadingTgtChange.bind(this);\n    this.handleSpeedTgtChange = this.handleSpeedTgtChange.bind(this);\n    this.handleCmdExecution = this.handleCmdExecution.bind(this);\n    this.handleCmdExecutionDebounced = debounce(this.handleCmdExecution, 1500);\n    this.handleSVGClick = this.handleSVGClick.bind(this);\n    this.handleTrafficStackClick = this.handleTrafficStackClick.bind(this);\n    this.handleAirplaneClick = this.handleAirplaneClick.bind(this);\n    this.handleDirectToTgtChange = this.handleDirectToTgtChange.bind(this);\n    this.handleTakeoffClick = this.handleTakeoffClick.bind(this);\n    this.handleExpandSettingsButtonClick = this.handleExpandSettingsButtonClick.bind(this);\n    this.handleSettingsStoreChange = this.handleSettingsStoreChange.bind(this);\n\n    this.dtcToDataListId = `dct-tgt-${Math.random().toString().replace('.', '')}`;\n  }\n\n  componentWillMount() {\n    GameStore.on('change', this.handleGameStoreChange);\n    SettingsStore.on('change', this.handleSettingsStoreChange);\n  }\n\n  componentWillUnmount() {\n    GameStore.removeListener('change', this.handleGameStoreChange);\n    SettingsStore.removeListener('change', this.handleSettingsStoreChange);\n  }\n\n  handleGameStoreChange() {\n    this.setState({\n      traffic: GameStore.traffic,\n      gameWidth: GameStore.width,\n      gameHeight: GameStore.height,\n    });\n  }\n\n  handleSettingsStoreChange() {\n    this.setState({});\n  }\n\n  handleCmdExecution() {\n    const cmd = this.state.cmd;\n    if (!cmd.tgt) return;\n    const delta = {};\n    const model = airplanesById[cmd.tgt.typeId];\n    if (cmd.direction && GameStore.callsigns[cmd.direction]) {\n      if (cmd.direction !== cmd.tgt.tgtDirection) delta.tgtDirection = cmd.direction;\n    }\n    else if (typeof cmd.heading === 'number' && cmd.heading !== cmd.tgt.tgtDirection) delta.tgtDirection = cmd.heading;\n    if (typeof cmd.altitude === 'number' && cmd.altitude !== cmd.tgt.tgtAltitude) delta.tgtAltitude = cmd.altitude = Math.min(model.ceiling * 1000, Math.max(2000, cmd.altitude));\n    if (cmd.speed && cmd.speed !== cmd.tgt.tgtSpeed) delta.tgtSpeed = cmd.speed = Math.min(model.topSpeed, Math.max(model.minSpeed, cmd.speed));\n    if (cmd.takeoff && cmd.tgt.outboundRwy) delta.outboundRwy = undefined;\n    if (Object.keys(delta).length > 0) {\n      var cmdTxt = Communications.getCommandText(cmd, GameStore.winddir, GameStore.windspd);\n      GameStore.addLog(cmdTxt, true);\n      if (SettingsStore.speechsynthesis) Communications.speak(cmdTxt);\n      Object.assign(cmd.tgt, delta);\n      this.setState({ cmd });\n    } else {\n      // do nothing\n      return;\n    }\n    console.log('UPDATE', delta);\n  }\n\n  handleHeadingTgtChange(e) {\n    this.setState(prevstate => {\n      prevstate.cmd.heading = (+e.target.value + 360) % 360;\n      prevstate.cmd.direction = null;\n      return prevstate;\n    });\n    this.handleCmdExecutionDebounced();\n  }\n\n  handleAltitudeTgtChange(e) {\n    this.setState(prevstate => {\n      prevstate.cmd.altitude = Math.min(+e.target.max, e.target.value);\n      return prevstate;\n    });\n    this.handleCmdExecutionDebounced();\n  }\n\n  handleSpeedTgtChange(e) {\n    this.setState(prevstate => {\n      prevstate.cmd.speed = Math.min(+e.target.max, e.target.value);\n      return prevstate;\n    });\n    this.handleCmdExecutionDebounced();\n  }\n\n  handleDirectToTgtChange(e) {\n    const id = e.target.value;\n    if (!this.state.cmd.tgt) return;\n    this.setState(prevstate => {\n      prevstate.cmd.direction = e.target.value;\n      return prevstate;\n    });\n    if (GameStore.callsigns[id])\n      this.handleCmdExecutionDebounced();\n  }\n\n  handleSVGClick(e) {\n    for (let i = 0; i < e.path.length; i++) {\n      if (e.path[i].tagName === 'SVG') break;\n      if (e.path[i].classList && e.path[i].classList.contains('airplane')) {\n        const index = e.path[i].getAttribute('data-index');\n        this.handleAirplaneClick(index);\n        break;\n      }\n    }\n  }\n\n  handleTrafficStackClick(e) {\n    for (let i = 0; i < e.path.length; i++) {\n      if (e.path[i].classList.contains('traffic-stack')) break;\n      if (e.path[i].classList && e.path[i].classList.contains('traffic-stack-entry')) {\n        const index = e.path[i].getAttribute('data-index');\n        this.handleAirplaneClick(index);\n        break;\n      }\n    }\n  }\n\n  handleAirplaneClick(index) {\n    const airplane = this.state.traffic[index];\n    if (this.state.cmd.tgt) this.handleCmdExecution(); // flush possible previous changes that werent yet debounced.\n    this.setState({\n      cmd: {\n        tgt: airplane,\n        direction: typeof airplane.tgtDirection === 'string' ? airplane.tgtDirection : null,\n        altitude: airplane.tgtAltitude,\n        heading: typeof airplane.tgtDirection === 'number' ? airplane.tgtDirection : null,\n        speed: airplane.tgtSpeed,\n      }\n    });\n  }\n\n  handleTakeoffClick() {\n    this.setState(prevstate => {\n      prevstate.cmd.takeoff = true;\n      return prevstate;\n    });\n    this.handleCmdExecutionDebounced();\n  }\n\n  handleExpandSettingsButtonClick() {\n    this.setState({ settingsExpanded: !this.state.settingsExpanded });\n  }\n\n  renderTraffic() {\n    return this.state.traffic.map((airplane, i) => {\n      if (airplane.outboundRwy) return;\n      const y = this.state.gameHeight - airplane.y;\n      const x = airplane.x;\n      const spd = getSpdJsx(airplane, 'tspan');\n      const alt = getAltJsx(airplane, 'tspan');\n      const outboundWaypoint = airplane.outboundWaypoint;\n      const ltx = Math.sin(airplane.heading * Math.PI / 180) * config.headingIndicatorLineLen;\n      const lty = Math.cos(airplane.heading * Math.PI / 180) * config.headingIndicatorLineLen;\n      const path = 'M0,0 ' + airplane.path.map(p => `L${p[0] - airplane.x}, ${-(p[1] - airplane.y)}`);\n      const violatingSep = GameStore.sepDistanceVialotions[airplane.flight];\n      return <g className={`airplane ${routeTypes[airplane.routeType]}`} data-index={i} key={i} transform={`translate(${x}, ${y})`} data-heading={airplane.heading}>\n        {violatingSep ? <circle r={config.threeMileRuleDistance} className=\"sep\" /> : null}\n        <circle cx=\"0\" cy=\"0\" r=\"2\" stroke-width=\"0\" />\n        <line x1=\"0\" y1=\"0\" x2={ltx} y2={-lty} />\n        <path stroke-dasharray=\"4, 5\" d={path} />\n        <text>\n          <tspan dy=\"1em\">{operatorsById[airplane.operatorId].callsign}{airplane.flight}</tspan>\n          <tspan dy=\"1em\" x=\"0\">{spd}</tspan>\n          <tspan dy=\"1em\" x=\"0\">{alt}</tspan>\n          {outboundWaypoint ? <tspan dy=\"1em\" x=\"0\">{outboundWaypoint}</tspan> : null}\n        </text>\n      </g>;\n    });\n  }\n\n  renderTrafficStack() {\n    return this.state.traffic.map((airplane, i) => {\n      const spd = getSpdJsx(airplane, 'span');\n      const alt = getAltJsx(airplane, 'span');\n      const heading = `000${Math.floor(airplane.heading)}`.substr(-3);\n      const model = airplanesById[airplane.typeId];\n      const outboundWaypoint = airplane.outboundWaypoint;\n      return <div className={`traffic-stack-entry ${routeTypes[airplane.routeType]}`} data-index={i} key={i}>\n        {operatorsById[airplane.operatorId].callsign}{airplane.flight} {spd} {alt} {model.shortName} {heading}\n        {outboundWaypoint ? `${outboundWaypoint}` : null}\n      </div>\n    });\n  }\n\n  renderTrafficControl() {\n    const cmd = this.state.cmd;\n    if (!cmd.tgt) return;\n    const model = airplanesById[cmd.tgt.typeId];\n    const topSpeed = cmd.tgt.altitude > 10000 ? model.topSpeed : Math.min(model.topSpeed, 250);\n    const landableRwysArr = this.state.cmd.tgt && this.state.cmd.tgt.altitude < 3200\n      ? landableRwys(GameStore.airport, this.state.cmd.tgt, this.state.gameWidth, this.state.gameHeight)\n        .map(lr => lr.rev ? lr.rwy.name2 : lr.rwy.name1).map(name => <option value={name} />)\n      : null;\n    return <div>\n      <div>\n        <span>Heading ()</span>\n        <input onInput={this.handleHeadingTgtChange} value={cmd.heading} type=\"number\" step=\"10\" />\n      </div>\n      <div>\n        <span>Direct to </span>\n        <input style=\"color: #333\" value={cmd.direction} list={this.dtcToDataListId} onInput={this.handleDirectToTgtChange} />\n        <datalist id={this.dtcToDataListId}>\n          {cmd.tgt.routeType === routeTypes.INBOUND ? landableRwysArr : null}\n          {Object.keys(GameStore.waypoints).map(w => <option value={w} />)}\n        </datalist>\n      </div>\n      <div>\n        <span>Speed (KTS)</span>\n        <input onInput={this.handleSpeedTgtChange} value={cmd.speed} type=\"number\" max={topSpeed} step=\"10\" />\n      </div>\n      <div>\n        <span>Altitude (FT)</span>\n        <input onInput={this.handleAltitudeTgtChange} value={cmd.altitude} type=\"number\" max={model.ceiling * 1000} step=\"1000\" />\n      </div>\n      <div>\n        <button onClick={this.handleTakeoffClick} className={cmd.tgt.outboundRwy ? '' : 'hidden'}>Takeoff</button>\n      </div>\n    </div>\n  }\n\n  render() {\n    const airplanes = this.renderTraffic();\n    const trafficstack = this.renderTrafficStack();\n    const trafficcontrol = this.renderTrafficControl();\n\n    return (\n      <div className=\"atc-view\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"atc-view-svg\" width={window.innerWidth - 250} height={window.innerHeight}\n          onClick={this.handleSVGClick} viewBox=\"0 0 1280 720\" style=\"background: #194850\">\n          <style>{`\n            text {\n              font: 14px 'Helvetica';\n              fill: #fff;\n            }\n            .airplane circle {\n              fill: #fff;\n            }\n            .airplane line, .airplane path {\n              stroke: #fff;\n              stroke-width: 1;\n              fill: none;\n            }\n            .airplane.inbound line, .airplane.inbound path {\n              stroke: #bbf;\n            }\n            .airplane.outbound line, .airplane.outbound path {\n              stroke: #bfb;\n            }\n            .airplane.enroute line, .airplane.enroute path {\n              stroke: #ffb;\n            }\n            .airplane.inbound text, .airplane.inbound circle {\n              fill: #bbf;\n            }\n            .airplane.outbound text, .airplane.outbound circle {\n              fill: #bfb;\n            }\n            .airplane.enroute text, .airplane.enroute circle {\n              fill: #ffb;\n            }\n            .airplane tspan.up {\n              fill: #0f0;\n            }\n            .airplane tspan.down {\n              fill: #f00;\n            }\n            .waypoint circle {\n              fill: #fff;\n            }\n            .rwy-line {\n              stroke: #fff;\n              stroke-width: 3;\n            }\n            .ils-line {\n              stroke: ${SettingsStore.ilsPathColor};\n              stroke-width: 1;\n            }\n            .background path {\n              fill: #1e606b;\n            }\n            .airplane circle.sep {\n              fill: ${SettingsStore.sepVialationCircleColor};\n              fill-opacity: 0.2;\n              stroke: #f00;\n            }\n          `}</style>\n          <BackgroundSvg name={GameStore.mapName} />\n          <WayPoints />\n          <Airport />\n          {airplanes}\n          <rect width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"#fff\" stroke-dasharray=\"20, 20\" />\n        </svg>\n        <div className=\"abs-container scores\">\n          <div>Departures: {GameStore.departures}</div>\n          <div>Arrivals: {GameStore.arrivals}</div>\n          <div>Seperation violations: {GameStore.distanceVialations}</div>\n        </div>\n        <div className=\"traffic-stack-wrapper\" style={{ height: window.innerHeight }}>\n          <div><span>Wind: {GameStore.winddir} / {GameStore.windspd} kts</span></div>\n          <div><span>Traffic:</span></div>\n          <div className=\"traffic-stack\" onClick={this.handleTrafficStackClick}>\n            {trafficstack}\n          </div>\n          <div className={this.state.settingsExpanded ? null : 'hidden'}>\n            <Settings />\n          </div>\n          <button onClick={this.handleExpandSettingsButtonClick}>\n            {this.state.settingsExpanded ? 'Hide Options' : 'Expand Options'}\n          </button>\n          <div className=\"traffic-control\">\n            {trafficcontrol}\n          </div>\n          <GameMetaControls />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst debounce = (func, delay) => {\n  let inDebounce\n  return function () {\n    const context = this\n    const args = arguments\n    clearTimeout(inDebounce)\n    inDebounce = setTimeout(() => func.apply(context, args), delay)\n  }\n}\n\nconst getSpdJsx = (airplane, TagName) => {\n  if (Math.abs(airplane.speed - airplane.tgtSpeed) > 5) {\n    return <TagName>\n      {Math.round(airplane.speed)}KTS\n      {airplane.tgtSpeed > airplane.speed ? <TagName className=\"up\">\n        {Math.round(airplane.tgtSpeed)}KTS</TagName> : <TagName className=\"down\">\n          {Math.round(airplane.tgtSpeed)}KTS</TagName>}\n    </TagName>\n  } else {\n    return <TagName>{Math.round(airplane.speed)}KTS</TagName>\n  }\n}\n\nconst getAltFmtJSx = (alt, TagName) =>\n  <TagName>{alt > 18000\n    ? `FL${Math.floor(alt * .01)}`\n    : `${Math.floor(alt)}FT`}</TagName>;\n\n\nconst getAltJsx = (airplane, TagName) => {\n  if (Math.abs(airplane.tgtAltitude - airplane.altitude) > 100) {\n    return <TagName>{getAltFmtJSx(airplane.altitude, TagName)}\n      {airplane.tgtAltitude > airplane.altitude ? <TagName className=\"up\">\n        {getAltFmtJSx(airplane.tgtAltitude, TagName)}</TagName> : <TagName className=\"down\">\n          {getAltFmtJSx(airplane.tgtAltitude, TagName)}</TagName>}\n    </TagName>;\n  } else {\n    return getAltFmtJSx(airplane.altitude, TagName);\n  }\n}\n\nexport default AtcView;\n\n\n\n// WEBPACK FOOTER //\n// ./containers/AtcView/AtcView.js","import { Component } from 'preact';\nimport './Game.css';\nimport AtcView from '../AtcView/AtcView';\nimport GameStore from '../../stores/GameStore';\n\nclass Game extends Component {\n  constructor(props) {\n    super();\n    this.name = 'default'\n    this.setRoot = el => {\n      this.root = el;\n      GameStore.setSvgEl(el);\n    }\n  }\n\n  componentDidMount() {\n    if (GameStore.started) return;\n    else GameStore.startMap(this.name);\n  }\n\n  render() {\n    \n    return (\n      <div ref={this.setRoot} className=\"Game\">\n        <div id=\"atc-game\">\n          <AtcView />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./containers/Game/Game.js","import React, { Component } from 'preact';\nimport './SavedGamesOpen.css';\nimport { loadState, saveState } from '../../lib/persistance';\nimport { Route, Link, route } from 'preact-router';\nimport GameStore from '../../stores/GameStore';\n\nclass SavedGamesOpen extends Component {\n  constructor(props) {\n    super();\n\n    const games = [];\n    const s = loadState();\n    for (const name in s.games) {\n      if (s.games.hasOwnProperty(name)) {\n        games.push({ name, state: s.games[name] });\n      }\n    }\n\n    this.state = { games };\n\n    this.handleSavedGamesOpenListItemClick = this.handleSavedGamesOpenListItemClick.bind(this);\n    this.handleSavedGameOpenListItemTrash = this.handleSavedGameOpenListItemTrash.bind(this);\n  }\n\n  componentWillMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n  handleSavedGamesOpenListItemClick(e) {\n    const name = e.currentTarget.getAttribute('data-name');\n    if (GameStore.started) {\n      const force = confirm('Another game is already playing. Make sure you have saved your progress. Do you want to continue?');\n      if (force) {\n        GameStore.stop();\n      } else {\n        return;\n      }\n    }\n    GameStore.startSaved(name);\n    route('/game');\n  }\n\n  handleSavedGameOpenListItemTrash(e) {\n    const name = e.currentTarget.getAttribute('data-name');\n    const state = loadState();\n    delete state.games[name];\n    saveState(state);\n    const games = [];\n    for (const name in state.games) {\n      if (state.games.hasOwnProperty(name)) {\n        games.push({ name, state: state.games[name] });\n      }\n    }\n    this.setState({ games });\n  }\n\n  render() {\n    const list = this.state.games.map((x, i) =>\n      <div data-name={x.name} key={i} className=\"save\">\n        <h5 className=\"save-name\">{x.name}</h5>\n        <svg onClick={this.handleSavedGamesOpenListItemClick} data-name={x.name} className=\"save-img\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M512 1536h768v-384h-768v384zm896 0h128v-896q0-14-10-38.5t-20-34.5l-281-281q-10-10-34-20t-39-10v416q0 40-28 68t-68 28h-576q-40 0-68-28t-28-68v-416h-128v1280h128v-416q0-40 28-68t68-28h832q40 0 68 28t28 68v416zm-384-928v-320q0-13-9.5-22.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 22.5v320q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5-9.5t9.5-22.5zm640 32v928q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1344q0-40 28-68t68-28h928q40 0 88 20t76 48l280 280q28 28 48 76t20 88z\" />\n        </svg>\n        <svg data-name={x.name} onClick={this.handleSavedGameOpenListItemTrash} className=\"trash\" viewBox=\"0 0 1792 1792\">\n          <path d=\"M704 736v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm256 0v576q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-576q0-14 9-23t23-9h64q14 0 23 9t9 23zm128 724v-948h-896v948q0 22 7 40.5t14.5 27 10.5 8.5h832q3 0 10.5-8.5t14.5-27 7-40.5zm-672-1076h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z\" />\n        </svg>\n      </div>\n    );\n    return (\n      <div className=\"savedgamesopen\">\n        Saves:\n        <div className=\"savedgamesopen-list\">\n          {list.length > 0 ? list : <small>Nothing...</small>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SavedGamesOpen;\n\n\n\n// WEBPACK FOOTER //\n// ./components/SavedGamesOpen/SavedGamesOpen.js","import { Component } from 'preact';\nimport './Home.css';\nimport SavedGamesOpen from '../../components/SavedGamesOpen/SavedGamesOpen';\nimport { loadState } from '../../lib/persistance';\nimport { mapn, mapNames } from '../../lib/map';\nimport { Link, route } from 'preact-router';\nimport GameStore from '../../stores/GameStore';\nimport Settings from '../../components/Settings/Settings';\n\nclass Home extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      mapname: mapNames[0],\n    };\n\n    this.handleMapSelectionChange = this.handleMapSelectionChange.bind(this);\n    this.handleStartClick = this.handleStartClick.bind(this);\n  }\n\n  componentWillMount() {\n  }\n\n  componentWillUnmount() {\n  }\n\n  handleMapSelectionChange(e) {\n    this.setState({ mapname: e.target.value });\n  }\n\n  handleReturnToGame() {\n    route('/game');\n  }\n\n  handleStartClick() {\n    if (GameStore.started) GameStore.stop();\n    GameStore.startMap(this.state.mapname);\n    route('/game');\n  }\n\n  render() {\n    return (\n      <div className=\"home\" style=\"background-image: url('assets/bg.jpg')\">\n        <div className=\"abs-container\">\n          { GameStore.started ? <button onClick={this.handleReturnToGame}>Return to Game</button> : null }\n        </div>\n        <div className=\"panel\" >\n          <h1>ATC Manager 2</h1>\n        </div>\n        <div className=\"panel\">\n          <SavedGamesOpen />\n        </div>\n        <div className=\"panel\">\n          <h2 className=\"mb\">Start</h2>\n          <span className=\"mb\">Area:</span>\n          <select onInput={this.handleMapSelectionChange}>\n            { mapNames.map(name =>\n              <option value={name}>{upcase(name)}</option>\n            )}\n          </select>\n          <Settings />\n          <button onClick={this.handleStartClick}>Start</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n\nconst upcase = str => {\n  return str[0].toUpperCase() + str.slice(1);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./containers/Home/Home.js","import 'milligram';\nimport './style';\nimport { Component } from 'preact';\nimport Router from 'preact-router';\nimport createHashHistory from 'history/createHashHistory';\nimport Game from './containers/Game/Game';\nimport Home from './containers/Home/Home';\n\nexport default class App extends Component {\n  constructor(props) {\n    super();\n    this.setState({\n\n    });\n  }\n\n  render() {\n    let history = typeof window !== \"undefined\" ? createHashHistory() : undefined; // enable pre rendering\n    return (\n      <main>\n        <Router history={history}>\n          <Home path=\"/\" />\n          <Game path=\"/game\" />\n        </Router>\n      </main>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/prop-types/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/milligram/dist/milligram.css\n// module id = Kfb6\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/prop-types/factoryWithThrowingShims.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/warning/warning.js","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/resolve-pathname/index.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/invariant/invariant.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/fbjs/lib/invariant.js","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/fbjs/lib/emptyFunction.js","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/prop-types/lib/ReactPropTypesSecret.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HashChangeEvent = 'hashchange';\n\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + (0, _PathUtils.stripLeadingSlash)(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: _PathUtils.stripLeadingSlash,\n    decodePath: _PathUtils.addLeadingSlash\n  },\n  slash: {\n    encodePath: _PathUtils.addLeadingSlash,\n    decodePath: _PathUtils.addLeadingSlash\n  }\n};\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar createHashHistory = function createHashHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Hash history needs a DOM');\n\n  var globalHistory = window.history;\n  var canGoWithoutReload = (0, _DOMUtils.supportsGoWithoutReloadUsingHash)();\n\n  var _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$hashType = props.hashType,\n      hashType = _props$hashType === undefined ? 'slash' : _props$hashType;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n\n  var getDOMLocation = function getDOMLocation() {\n    var path = decodePath(getHashPath());\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n\n      if (!forceNextPop && (0, _LocationUtils.locationsAreEqual)(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === (0, _PathUtils.createPath)(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n\n      handlePop(location);\n    }\n  };\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(toLocation));\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(fromLocation));\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  // Ensure the hash is encoded properly before doing anything else.\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n\n  var initialLocation = getDOMLocation();\n  var allPaths = [(0, _PathUtils.createPath)(initialLocation)];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return '#' + encodePath(basename + (0, _PathUtils.createPath)(location));\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(state === undefined, 'Hash history cannot push state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = (0, _PathUtils.createPath)(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n\n        var prevIndex = allPaths.lastIndexOf((0, _PathUtils.createPath)(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n        nextPaths.push(path);\n        allPaths = nextPaths;\n\n        setState({ action: action, location: location });\n      } else {\n        (0, _warning2.default)(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n\n        setState();\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(state === undefined, 'Hash history cannot replace state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, undefined, undefined, history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var path = (0, _PathUtils.createPath)(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf((0, _PathUtils.createPath)(history.location));\n\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    (0, _warning2.default)(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createHashHistory;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/history/createHashHistory.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"GameMetaControls\":\"GameMetaControls__3Y5UT\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/GameMetaControls/GameMetaControls.css\n// module id = rcWw\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/history/createTransitionManager.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./containers/AtcView/AtcView.css\n// module id = wdpN\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = require('resolve-pathname');\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = require('value-equal');\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/history/LocationUtils.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"Settings\":\"Settings__1fN59\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Settings/Settings.css\n// module id = ybWk\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/history/DOMUtils.js"],"sourceRoot":""}